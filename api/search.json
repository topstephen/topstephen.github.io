[{"id":"e42cdbfca7d3b003c339c6ab5827f117","title":"GitLab CI/CD å®ç°è‡ªåŠ¨æ„å»ºéƒ¨ç½²é¡¹ç›®","content":"ä¸€ã€ç¯å¢ƒå‡†å¤‡é¦–å…ˆéœ€è¦æœ‰ä¸€å° GitLab æœåŠ¡å™¨ï¼Œç„¶åéœ€è¦æœ‰ä¸ªé¡¹ç›®ï¼›è¿™é‡Œç¤ºä¾‹é¡¹ç›®ä»¥ Spring Boot é¡¹ç›®ä¸ºä¾‹ï¼Œç„¶åæœ€å¥½æœ‰ä¸€å°ä¸“é—¨ç”¨æ¥ Build çš„æœºå™¨ï¼Œå®é™…ç”Ÿäº§ä¸­å¦‚æœ Build ä»»åŠ¡ä¸é¢‘ç¹å¯é€‚å½“ç”¨ä¸€äº›ä¸šåŠ¡æœºå™¨è¿›è¡Œ Buildã€‚\n\nGitLab IP :10.88.9.21  (version 12.6.0)\nRunner IP :10.88.9.37  (version 12.5.0)\n\näºŒã€GitLab CI ç®€ä»‹GitLab CI æ˜¯ GitLab é»˜è®¤é›†æˆçš„ CI åŠŸèƒ½ï¼ŒGitLab CI é€šè¿‡åœ¨é¡¹ç›®å†… .gitlab-ci.yaml é…ç½®æ–‡ä»¶è¯»å– CI ä»»åŠ¡å¹¶è¿›è¡Œç›¸åº”å¤„ç†ï¼›GitLab CI é€šè¿‡å…¶ç§°ä¸º GitLab Runner çš„ Agent ç«¯è¿›è¡Œ build æ“ä½œï¼›Runner æœ¬èº«å¯ä»¥ä½¿ç”¨å¤šç§æ–¹å¼å®‰è£…ï¼Œæ¯”å¦‚ä½¿ç”¨ Docker é•œåƒå¯åŠ¨ç­‰ï¼›Runner åœ¨è¿›è¡Œ build æ“ä½œæ—¶ä¹Ÿå¯ä»¥é€‰æ‹©å¤šç§ build ç¯å¢ƒæä¾›è€…ï¼›æ¯”å¦‚ç›´æ¥åœ¨ Runner æ‰€åœ¨å®¿ä¸»æœº buildã€é€šè¿‡æ–°åˆ›å»ºè™šæ‹Ÿæœº(vmwareã€virtualbox)è¿›è¡Œ buildç­‰ï¼›åŒæ—¶ Runner æ”¯æŒ Docker ä½œä¸º build æä¾›è€…ï¼Œå³æ¯æ¬¡ build æ–°å¯åŠ¨å®¹å™¨è¿›è¡Œ buildï¼›GitLab CI å…¶å¤§è‡´æ¶æ„å¦‚ä¸‹\nä¸‰ã€GitLabæ­å»ºå®‰å‡†åŸºç¡€ä¾èµ–\nå®‰è£…åŸºç¡€ä¾èµ–\n\nsudo yum install -y curl policycoreutils-python openssh-server\nå¯åŠ¨sshæœåŠ¡&amp;è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨\nsudo systemctl enable sshd\nsudo systemctl start sshd \n\nå®‰è£…Postfix\n\nPostfixæ˜¯ä¸€ä¸ªé‚®ä»¶æœåŠ¡å™¨ï¼ŒGitLabå‘é€é‚®ä»¶éœ€è¦ç”¨åˆ°\n# å®‰è£…postfix\nsudo yum install -y postfix\n\n# å¯åŠ¨postfixå¹¶è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨\nsudo systemctl enable postfix\nsudo systemctl start postfix\n\nå¼€æ”¾sshä»¥åŠhttpæœåŠ¡ï¼ˆ80ç«¯å£)\n\n# å¼€æ”¾sshã€httpæœåŠ¡\nsudo firewall-cmd --add-service&#x3D;ssh --permanent\nsudo firewall-cmd --add-service&#x3D;http --permanent\n# é‡è½½é˜²ç«å¢™è§„åˆ™\nsudo firewall-cmd --reload\nå®‰è£…GitLabæœ¬æ¬¡æˆ‘ä»¬éƒ¨ç½²çš„æ˜¯ç¤¾åŒºç‰ˆ:gitlab-ceï¼Œå¦‚æœè¦éƒ¨ç½²å•†ä¸šç‰ˆå¯ä»¥æŠŠå…³é”®å­—æ›¿æ¢ä¸ºï¼šgitlab-ee\n\nYumå®‰è£…GitLab\n\n# æ–°å»º &#x2F;etc&#x2F;yum.repos.d&#x2F;gitlab-ce.repoï¼Œå†…å®¹ä¸º\n[gitlab-ce]\nname&#x3D;Gitlab CE Repository\nbaseurl&#x3D;https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;gitlab-ce&#x2F;yum&#x2F;el$releasever&#x2F;\ngpgcheck&#x3D;0\nenabled&#x3D;1\n# å†æ‰§è¡Œ\nsudo yum makecache\nsudo yum install gitlab-ce\né…ç½®GitLabGitLabé»˜è®¤çš„é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯&#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb\n#ä¿®æ”¹é…ç½®æ–‡ä»¶\nsudo vim &#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb\n#é…ç½®é¦–é¡µåœ°å€ï¼ˆå¤§çº¦åœ¨ç¬¬15è¡Œï¼‰å¯ä»¥ç”¨IPä»£æ›¿åŸŸåï¼Œè¿™é‡Œæ ¹æ®è‡ªå·±éœ€æ±‚æ¥å³å¯\nexternal_url &#39;http:&#x2F;&#x2F;gitlab.ecloud.com&#39;\nå¯åŠ¨å¹¶è®¿é—®GitLab\nå¯åŠ¨GitLab\n\n#é‡æ–°é…ç½®å¹¶å¯åŠ¨\nsudo gitlab-ctl reconfigure\n#å®Œæˆåå°†ä¼šçœ‹åˆ°å¦‚ä¸‹è¾“å‡º\nRunning handlers complete\nChef Client finished, 432&#x2F;613 resources updated in 03 minutes 43 seconds\ngitlab Reconfigured!\n\nè®¿é—® GitLab\n\nå°†è®¾ç½®çš„åŸŸåDNSè§£æåˆ°æœåŠ¡å™¨IPï¼Œæˆ–è€…ä¿®æ”¹æœ¬åœ°hostå°†åŸŸåæŒ‡å‘æœåŠ¡å™¨IPã€‚ è®¿é—®ï¼šhttp://gitlab.ecloud.com \n\nè®¾ç½®å¯†ç \n\nè¿™æ—¶å€™ä¼šæç¤ºä¸ºç®¡ç†å‘˜è´¦å·è®¾ç½®å¯†ç ã€‚ç®¡ç†å‘˜è´¦å·é»˜è®¤usernameæ˜¯rootã€‚ è®¾ç½®å®Œæˆä¹‹åå³å¯ä½¿ç”¨rootè´¦å·ç™»å½•ï¼Œç™»é™†åä¼šè¿›å…¥æ¬¢è¿ç•Œé¢ã€‚\nå››ã€GitLab CI é…ç½®å¢åŠ  RunnerGitLab CI åœ¨è¿›è¡Œæ„å»ºæ—¶ä¼šå°†ä»»åŠ¡ä¸‹å‘ç»™ Runnerï¼Œè®© Runner å»æ‰§è¡Œï¼›æ‰€ä»¥å…ˆè¦æ·»åŠ ä¸€ä¸ª Runner\n# æ–°å»º &#x2F;etc&#x2F;yum.repos.d&#x2F;gitlab-runner.repoï¼Œå†…å®¹ä¸º\n[gitlab-runner]\nname&#x3D;gitlab-runner\nbaseurl&#x3D;https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;gitlab-runner&#x2F;yum&#x2F;el7\nrepo_gpgcheck&#x3D;0\ngpgcheck&#x3D;0\nenabled&#x3D;1\ngpgkey&#x3D;https:&#x2F;&#x2F;packages.gitlab.com&#x2F;gpg.key\n# å†æ‰§è¡Œ\nsudo yum makecache\nsudo yum install gitlab-runner\ngitlab-runner æ³¨å†Œ\né¦–å…ˆè¦å…ˆè·å–gitlab-ciçš„Token:é¡¹ç›®ä¸»é¡µ -&gt; Sttings -&gt; CI/CD -&gt; Runners Expand \n\nç™»å½•å®‰è£…runnerçš„æœåŠ¡å™¨ï¼Œä½¿ç”¨å‘½ä»¤æ³¨å†Œgitlab-runner:\n\n\ngitlab-runner register\n\n\nè¾“å…¥gitlabçš„æœåŠ¡URLï¼Œè¿™ä¸ªä½¿ç”¨çš„æ˜¯http://gitlab.ecloud.com\nè¾“å…¥gitlab-ciçš„Toeknï¼Œè·å–æ–¹å¼å‚è€ƒä¸Šå›¾\nå…³äºé›†æˆæœåŠ¡ä¸­å¯¹äºè¿™ä¸ªrunnerçš„æè¿°\nç»™è¿™ä¸ªgitlab-runnerè¾“å…¥ä¸€ä¸ªæ ‡è®°ï¼Œè¿™ä¸ªtagéå¸¸é‡è¦ï¼Œåœ¨åç»­çš„ä½¿ç”¨è¿‡ç¨‹ä¸­éœ€è¦ä½¿ç”¨è¿™ä¸ªtagæ¥æŒ‡å®šgitlab-runner\næ˜¯å¦è¿è¡Œåœ¨æ²¡æœ‰tagçš„buildä¸Šé¢ã€‚åœ¨é…ç½®gitlab-ciçš„æ—¶å€™ï¼Œä¼šæœ‰å¾ˆå¤šjobï¼Œæ¯ä¸ªjobå¯ä»¥é€šè¿‡tagså±æ€§æ¥é€‰æ‹©runnerã€‚è¿™é‡Œä¸ºtrueè¡¨ç¤ºå¦‚æœjobæ²¡æœ‰é…ç½®tagsï¼Œä¹Ÿæ‰§è¡Œ\næ˜¯å¦é”å®šrunneråˆ°å½“å‰é¡¹ç›®\né€‰æ‹©æ‰§è¡Œå™¨ï¼Œgitlab-runnerå®ç°äº†å¾ˆå¤šæ‰§è¡Œå™¨ï¼Œå¯ç”¨åœ¨ä¸åŒåœºæ™¯ä¸­è¿è¡Œæ„å»ºï¼Œè¯¦æƒ…å¯è§GitLab Runner Executorsï¼Œè¿™é‡Œé€‰ç”¨Shellæ¨¡å¼\nåˆ·æ–°é¡µé¢å°±å¯ä»¥çœ‹åˆ°æ–°å¢çš„ä¸€ä¸ªRunner:\n\n\n 9.è¿™ä¸ªGitLabRunnerå°±å®‰è£…å¥½äº†ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯æŠŠé¡¹ç›®é›†æˆåˆ°gitlab-ciä¸­ï¼Œå¼€å§‹æŒç»­é›†æˆäº†ã€‚\ngitlab-runner ä½¿ç”¨\nåˆ›å»º CI é…ç½®æ–‡ä»¶ä¸€åˆ‡å‡†å¤‡å°±ç»ªä»¥åï¼Œå°±å¯ä»¥ç¼–å†™ CI è„šæœ¬äº†ï¼›GitLab ä¾é è¯»å–é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ .gitlab-ci.yml æ–‡ä»¶æ¥æ‰§è¡Œç›¸åº”çš„ CI æ“ä½œï¼›ä»¥ä¸‹ä¸ºæµ‹è¯•é¡¹ç›®çš„ .gitlab-ci.yml é…ç½®\n\n# These are the default stages. You don&#39;t need to explicitly define them. But you could define any stages you need.\nstages:\n- build\n- deploy\n- catLog\n- kill\n\nvariables:\nMAVEN_CLI_OPTS: &quot;-s .m2&#x2F;settings.xml --batch-mode&quot;\nMAVEN_OPTS: &quot;-Dmaven.repo.local&#x3D;&#x2F;export&#x2F;servers&#x2F;repository_boot&quot;\nSHELL_NAME: &quot;ry.sh&quot;\ncache:\npaths:\n# - .m2&#x2F;repository\n- target&#x2F;\n\n# This is the name of the job. You can choose it freely.\nmaven_build:\n# A job is always executed within a stage. If no stage is set, it defaults to &#39;test&#39;\nstage: build\n# Since we require Maven for this job, we can restrict the job to runners with a certain tag. Of course, we need to configure a runner with the tag maven with a maven installation\ntags:\n- dev\n# ä½¿ç”¨å½“å‰ä½œä¸šçš„åç§°å’Œå½“å‰åˆ†æ”¯æˆ–æ ‡ç­¾ï¼ˆä»…åŒ…æ‹¬äºŒè¿›åˆ¶æ–‡ä»¶ç›®å½•ï¼‰åˆ›å»ºæ¡£æ¡ˆ\nartifacts:\nname: &quot;$CI_JOB_NAME-$CI_COMMIT_REF_NAME&quot;\nexpire_in: 4 week\npaths:\n- target&#x2F;*.jar\n# Here you can execute arbitrate terminal commands.\n# If any of the commands returns a non zero exit code the job fails\nscript:\n- echo &quot;Building project with maven&quot;\n- mvn $MAVEN_CLI_OPTS clean\n- mvn $MAVEN_CLI_OPTS install\ndeploy_jdk8:\nstage: deploy\ntags:\n- dev\nscript:\n- echo &quot;Deploy....&quot;\n- sh $SHELL_NAME restart\nwhen: on_success\ninterruptible: true\n\ncat_boot_log:\nstage: catLog\ntags:\n- dev\nscript:\n- echo &quot;cat  log....&quot;\n- sh $SHELL_NAME cat\nwhen: on_success\n\nkill_progress:\nstage: kill\ntags:\n- dev\nscript:\n- echo &quot;kill progress&quot;\n- sh $SHELL_NAME stop\nwhen: manual\n\n\n\nå…³äº .gitlab-ci.yml å…·ä½“é…ç½®æ›´å®Œæ•´çš„è¯·å‚è€ƒ å®˜æ–¹æ–‡æ¡£\n\n\n\n\n\n\n\n\n\næ–‡ä¸­æµ‹è¯•é¡¹ç›®:  ç‚¹å‡»ä¸‹è½½\nArticle linkï¼š https://tqgoblin.site/post/gitlab-cicd/  Authorï¼š Stephen  \n","slug":"gitlab-cicd","date":"2019-12-22T02:48:00.000Z","categories_index":"è¿ç»´","tags_index":"GitLab","author_index":"Stephen"},{"id":"77d3e41277be521fb04715814e170fee","title":"Activiti å­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰","content":"ä¸€ã€Activiti å…¥é—¨ä½“éªŒæµç¨‹å®šä¹‰Paletteï¼ˆç”»æ¿ï¼‰åœ¨ eclipse æˆ– idea ä¸­å®‰è£… activiti-designer æ’ä»¶å³å¯ä½¿ç”¨ï¼Œç”»æ¿ä¸­åŒ…æ‹¬ä»¥ä¸‹ç»“ç‚¹ï¼š\n\nConnectionâ€”è¿æ¥\nEventâ€”äº‹ä»¶\nTaskâ€”ä»»åŠ¡\nGatewayâ€”ç½‘å…³\nContainerâ€”å®¹å™¨\nBoundary eventâ€”è¾¹ç•Œäº‹ä»¶\nIntermediate event- -ä¸­é—´äº‹ä»¶\næµç¨‹å›¾è®¾è®¡å®Œæ¯•ä¿å­˜ç”Ÿæˆ.bpmn æ–‡ä»¶ã€‚\n\næ–°å»ºæµç¨‹ ï¼ˆIDEAï¼‰\n\nèµ·å®Œåå­— holiday åï¼ˆé»˜è®¤æ‰©å±•åä¸º bpmnï¼‰ï¼Œå°±å¯ä»¥çœ‹åˆ°è¿›å…¥äº†æµç¨‹è®¾è®¡é¡µé¢ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š\n\n\nç»˜åˆ¶æµç¨‹å·¦ä¾§åŒºåŸŸæ˜¯ç»˜å›¾åŒºï¼Œå³ä¾§åŒºåŸŸæ˜¯ palette ç”»æ¿åŒºåŸŸ ï¼Œé¼ æ ‡å…ˆç‚¹å‡»ç”»æ¿çš„å…ƒç´ å³å¯åœ¨å·¦ä¾§ç»˜å›¾ã€‚\næŒ‡å®šæµç¨‹å®šä¹‰Keyæµç¨‹å®šä¹‰ key å³æµç¨‹å®šä¹‰çš„æ ‡è¯†ï¼Œåœ¨ idea ä¸­é€šè¿‡ properties è§†å›¾æŸ¥çœ‹æµç¨‹çš„ keyå»ºè®®ï¼šç›¸åŒçš„ä¸šåŠ¡æµç¨‹ï¼Œæµç¨‹å®šä¹‰çš„ key åå­—å®šä¹‰ä¸€æ ·ï¼Œæ¯”å¦‚ï¼Œå¦‚æœéœ€è¦åˆ›å»ºæ–°çš„ä¸šåŠ¡æµç¨‹ï¼Œè¯·å‡æµç¨‹åˆ™ä½¿ç”¨æ–°çš„ keyã€‚\n\n\næŒ‡å®šä»»åŠ¡è´Ÿè´£äººåœ¨ properties è§†å›¾æŒ‡å®šæ¯ä¸ªä»»åŠ¡ç»“ç‚¹çš„è´Ÿè´£äººï¼Œæ¯”å¦‚ä¸‹è¾¹æ˜¯å¡«å†™è¯·å‡å•çš„è´Ÿè´£äººä¸º zhangsan\n\n\n\n\n\n\n\n\n\n\n\nç”Ÿæˆpngæµç¨‹å›¾ å‚è€ƒ Ideaåˆ›å»ºbpmnæ–‡ä»¶æ²¡æœ‰pngå›¾ç‰‡è§£å†³åŠæ³•\néƒ¨ç½²æµç¨‹å®šä¹‰éƒ¨ç½²æµç¨‹å®šä¹‰å°±æ˜¯è¦å°†ä¸Šè¾¹ç»˜åˆ¶çš„å›¾å½¢å³æµç¨‹å®šä¹‰ï¼ˆ.bpmnï¼‰éƒ¨ç½²åœ¨å·¥ä½œæµç¨‹å¼•æ“ activiti ä¸­ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š\n&#x2F;**\n * æµç¨‹å®šä¹‰çš„éƒ¨ç½²\n * activitiè¡¨æœ‰å“ªäº›ï¼Ÿ\n *  act_re_deployment  éƒ¨ç½²ä¿¡æ¯\n    act_re_procdef     æµç¨‹å®šä¹‰çš„ä¸€äº›ä¿¡æ¯\n    act_ge_bytearray   æµç¨‹å®šä¹‰çš„bpmnæ–‡ä»¶åŠpngæ–‡ä»¶\n *&#x2F;\npublic static void main(String[] args) &#123;\n    &#x2F;&#x2F;1.åˆ›å»ºProcessEngineå¯¹è±¡\n    ProcessEngine processEngine &#x3D; ProcessEngines.getDefaultProcessEngine();\n\n    &#x2F;&#x2F;2.å¾—åˆ°RepositoryServiceå®ä¾‹\n    RepositoryService repositoryService &#x3D; processEngine.getRepositoryService();\n\n    &#x2F;&#x2F;3.è¿›è¡Œéƒ¨ç½²\n    Deployment deployment &#x3D; repositoryService.createDeployment()\n            .addClasspathResource(&quot;diagram&#x2F;holiday.bpmn&quot;)  &#x2F;&#x2F;æ·»åŠ bpmnèµ„æº\n            .addClasspathResource(&quot;diagram&#x2F;holiday.png&quot;)\n            .name(&quot;è¯·å‡ç”³è¯·å•æµç¨‹&quot;)\n            .deploy();\n\n    &#x2F;&#x2F;4.è¾“å‡ºéƒ¨ç½²çš„ä¸€äº›ä¿¡æ¯\n    System.out.println(deployment.getName());\n    System.out.println(deployment.getId());\n&#125;\n\n\n\nå¯åŠ¨ä¸€ä¸ªæµç¨‹å®ä¾‹æµç¨‹å®šä¹‰éƒ¨ç½²åœ¨ activiti åå°±å¯ä»¥é€šè¿‡å·¥ä½œæµç®¡ç†ä¸šåŠ¡æµç¨‹äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸Šè¾¹éƒ¨ç½²çš„è¯·å‡ç”³è¯·æµç¨‹å¯ä»¥ä½¿ç”¨äº†ã€‚é’ˆå¯¹è¯¥æµç¨‹ï¼Œå¯åŠ¨ä¸€ä¸ªæµç¨‹è¡¨ç¤ºå‘èµ·ä¸€ä¸ªæ–°çš„è¯·å‡ç”³è¯·å•ï¼Œè¿™å°±ç›¸å½“äº java ç±»ä¸ java å¯¹è±¡çš„å…³ç³»ï¼Œç±»å®šä¹‰å¥½åéœ€è¦ new åˆ›å»ºä¸€ä¸ªå¯¹è±¡ä½¿ç”¨ï¼Œå½“ç„¶å¯ä»¥ new å¤šä¸ªå¯¹è±¡ã€‚å¯¹äºè¯·å‡ç”³è¯·æµç¨‹ï¼Œå¼ ä¸‰å‘èµ·ä¸€ä¸ªè¯·å‡ç”³è¯·å•éœ€è¦å¯åŠ¨ä¸€ä¸ªæµç¨‹å®ä¾‹ï¼Œè¯·å‡ç”³è¯·å•å‘èµ·ä¸€ä¸ªè¯·å‡å•ä¹Ÿéœ€è¦å¯åŠ¨ä¸€ä¸ªæµç¨‹å®ä¾‹ã€‚ä»£ç å¦‚ä¸‹ï¼š\n    &#x2F;**\n    * å¯åŠ¨æµç¨‹å®ä¾‹:\n    *     å‰ææ˜¯å…ˆå·²ç»å®Œæˆæµç¨‹å®šä¹‰çš„éƒ¨ç½²å·¥ä½œ\n    *\n    *     èƒŒåå½±å“çš„è¡¨ï¼š\n    *       act_hi_actinst     å·²å®Œæˆçš„æ´»åŠ¨ä¿¡æ¯\n         act_hi_identitylink   å‚ä¸è€…ä¿¡æ¯\n         act_hi_procinst   æµç¨‹å®ä¾‹\n         act_hi_taskinst   ä»»åŠ¡å®ä¾‹\n         act_ru_execution   æ‰§è¡Œè¡¨\n         act_ru_identitylink   å‚ä¸è€…ä¿¡æ¯\n         act_ru_task  ä»»åŠ¡\n    *&#x2F;\npublic class ActivitiStartInstance &#123;\n    public static void main(String[] args) &#123;\n        &#x2F;&#x2F;1.å¾—åˆ°ProcessEngineå¯¹è±¡\n        ProcessEngine processEngine &#x3D; ProcessEngines.getDefaultProcessEngine();\n\n        &#x2F;&#x2F;2.å¾—åˆ°RunServiceå¯¹è±¡\n        RuntimeService runtimeService &#x3D; processEngine.getRuntimeService();\n\n        &#x2F;&#x2F;3.åˆ›å»ºæµç¨‹å®ä¾‹  æµç¨‹å®šä¹‰çš„keyéœ€è¦çŸ¥é“ holiday\n        ProcessInstance processInstance &#x3D; runtimeService.startProcessInstanceByKey(&quot;holiday&quot;);\n\n\n        &#x2F;&#x2F;4.è¾“å‡ºå®ä¾‹çš„ç›¸å…³ä¿¡æ¯\n        System.out.println(&quot;æµç¨‹éƒ¨ç½²ID&quot;+processInstance.getDeploymentId());&#x2F;&#x2F;null\n        System.out.println(&quot;æµç¨‹å®šä¹‰ID&quot;+processInstance.getProcessDefinitionId());&#x2F;&#x2F;holiday:1:4\n        System.out.println(&quot;æµç¨‹å®ä¾‹ID&quot;+processInstance.getId());&#x2F;&#x2F;2501\n        System.out.println(&quot;æ´»åŠ¨ID&quot;+processInstance.getActivityId());&#x2F;&#x2F;null\n\n    &#125;\n\n\nä»»åŠ¡æŸ¥è¯¢æµç¨‹å¯åŠ¨åï¼Œå„å„ä»»åŠ¡çš„è´Ÿè´£äººå°±å¯ä»¥æŸ¥è¯¢è‡ªå·±å½“å‰éœ€è¦å¤„ç†çš„ä»»åŠ¡ï¼ŒæŸ¥è¯¢å‡ºæ¥çš„ä»»åŠ¡éƒ½æ˜¯è¯¥ç”¨æˆ·çš„å¾…åŠä»»åŠ¡ã€‚\n &#x2F;&#x2F;zhangsanå®Œæˆè‡ªå·±ä»»åŠ¡åˆ—è¡¨çš„æŸ¥è¯¢\npublic static void main(String[] args) &#123;\n    &#x2F;&#x2F;1.å¾—åˆ°ProcessEngineå¯¹è±¡\n    ProcessEngine processEngine &#x3D; ProcessEngines.getDefaultProcessEngine();\n\n    &#x2F;&#x2F;2.å¾—åˆ°TaskServiceå¯¹è±¡\n    TaskService taskService &#x3D; processEngine.getTaskService();\n\n    &#x2F;&#x2F;3.æ ¹æ®æµç¨‹å®šä¹‰çš„key,è´Ÿè´£äººassigneeæ¥å®ç°å½“å‰ç”¨æˆ·çš„ä»»åŠ¡åˆ—è¡¨æŸ¥è¯¢\n    Task task &#x3D; taskService.createTaskQuery()\n            .processDefinitionKey(&quot;holiday&quot;)\n            .taskAssignee(&quot;zhangsan&quot;)\n            .singleResult();\n\n    &#x2F;&#x2F;4.ä»»åŠ¡åˆ—è¡¨çš„å±•ç¤º\n    System.out.println(&quot;æµç¨‹å®ä¾‹ID:&quot;+task.getProcessInstanceId()); &#x2F;&#x2F;2501\n    System.out.println(&quot;ä»»åŠ¡ID:&quot;+task.getId());  &#x2F;&#x2F;2505\n    System.out.println(&quot;ä»»åŠ¡è´Ÿè´£äºº:&quot;+task.getAssignee()); &#x2F;&#x2F;zhangsan\n    System.out.println(&quot;ä»»åŠ¡åç§°:&quot;+task.getName()); &#x2F;&#x2F;å¡«å†™è¯·å‡ç”³è¯·å•\n\n&#125;\n\n\nä»»åŠ¡å¤„ç†ä»»åŠ¡è´Ÿè´£äººæŸ¥è¯¢å¾…åŠä»»åŠ¡ï¼Œé€‰æ‹©ä»»åŠ¡è¿›è¡Œå¤„ç†ï¼Œå®Œæˆä»»åŠ¡ã€‚\n&#x2F;**\n * zhangsanå®Œæˆè‡ªå·±çš„ä»»åŠ¡\n * å¤„ç†å½“å‰ç”¨æˆ·çš„ä»»åŠ¡\n * èƒŒåæ“ä½œçš„è¡¨ï¼š\n *   act_hi_actinst\n     act_hi_identitylink\n     act_hi_taskinst\n     act_ru_identitylink\n     act_ru_task\n *&#x2F;\npublic static void main(String[] args) &#123;\n    &#x2F;&#x2F;1.å¾—åˆ°ProcessEngineå¯¹è±¡\n    ProcessEngine processEngine &#x3D; ProcessEngines.getDefaultProcessEngine();\n\n    &#x2F;&#x2F;2.å¾—åˆ°TaskServiceå¯¹è±¡\n    TaskService taskService &#x3D; processEngine.getTaskService();\n\n    &#x2F;&#x2F;3.å¤„ç†ä»»åŠ¡,ç»“åˆå½“å‰ç”¨æˆ·ä»»åŠ¡åˆ—è¡¨çš„æŸ¥è¯¢æ“ä½œçš„è¯,ä»»åŠ¡ID:2505\n    taskService.complete(&quot;2505&quot;);\n    \n&#125;\n\næµç¨‹å®šä¹‰åˆ é™¤    &#x2F;**\n     * åˆ é™¤å·²ç»éƒ¨ç½²çš„æµç¨‹å®šä¹‰\n     *\n     * èƒŒåå½±å“çš„è¡¨:\n     * act_ge_bytearray\n       act_re_deployment\n       act_re_procdef\n     *&#x2F;\npublic class DeleteProcessDefinition &#123;\n\n    &#x2F;**\n     * æ³¨æ„äº‹é¡¹ï¼š\n     *     1.å½“æˆ‘ä»¬æ­£åœ¨æ‰§è¡Œçš„è¿™ä¸€å¥—æµç¨‹æ²¡æœ‰å®Œå…¨å®¡æ‰¹ç»“æŸçš„æ—¶å€™ï¼Œæ­¤æ—¶å¦‚æœè¦åˆ é™¤æµç¨‹å®šä¹‰ä¿¡æ¯å°±ä¼šå¤±è´¥\n     *     2.å¦‚æœå…¬å¸å±‚é¢è¦å¼ºåˆ¶åˆ é™¤,å¯ä»¥ä½¿ç”¨repositoryService.deleteDeployment(&quot;1&quot;,true);\n     *     &#x2F;&#x2F;å‚æ•°trueä»£è¡¨çº§è”åˆ é™¤ï¼Œæ­¤æ—¶å°±ä¼šå…ˆåˆ é™¤æ²¡æœ‰å®Œæˆçš„æµç¨‹ç»“ç‚¹ï¼Œæœ€åå°±å¯ä»¥åˆ é™¤æµç¨‹å®šä¹‰ä¿¡æ¯  falseçš„å€¼ä»£è¡¨ä¸çº§è”\n     *\n     * @param args\n     *&#x2F;\n    public static void main(String[] args) &#123;\n        &#x2F;&#x2F;1.å¾—åˆ°ProcessEngineå¯¹è±¡\n        ProcessEngine processEngine &#x3D; ProcessEngines.getDefaultProcessEngine();\n\n        &#x2F;&#x2F;2.åˆ›å»ºRepositoryServiceå¯¹è±¡\n        RepositoryService repositoryService &#x3D; processEngine.getRepositoryService();\n\n        &#x2F;&#x2F;3.æ‰§è¡Œåˆ é™¤æµç¨‹å®šä¹‰  å‚æ•°ä»£è¡¨æµç¨‹éƒ¨ç½²çš„id\n        repositoryService.deleteDeployment(&quot;1&quot;);\n    &#125;\n&#125;\n\n\n\n\n\n\n\n\n\n\nè¯´æ˜ï¼š\n\nä½¿ç”¨ repositoryService åˆ é™¤æµç¨‹å®šä¹‰\nå¦‚æœè¯¥æµç¨‹å®šä¹‰ä¸‹æ²¡æœ‰æ­£åœ¨è¿è¡Œçš„æµç¨‹ï¼Œåˆ™å¯ä»¥ç”¨æ™®é€šåˆ é™¤ã€‚\nå¦‚æœè¯¥æµç¨‹å®šä¹‰ä¸‹å­˜åœ¨å·²ç»è¿è¡Œçš„æµç¨‹ï¼Œä½¿ç”¨æ™®é€šåˆ é™¤æŠ¥é”™ï¼Œå¯ç”¨çº§è”åˆ é™¤æ–¹æ³•å°†æµç¨‹åŠç›¸å…³è®°å½•å…¨éƒ¨åˆ é™¤ã€‚é¡¹ç›®å¼€å‘ä¸­ä½¿ç”¨çº§è”åˆ é™¤çš„æƒ…å†µæ¯”è¾ƒå¤šï¼Œåˆ é™¤æ“ä½œä¸€èˆ¬åªå¼€æ”¾ç»™è¶…çº§ç®¡ç†å‘˜ä½¿ç”¨ã€‚\n\næµç¨‹å®šä¹‰èµ„æºæŸ¥è¯¢é€šè¿‡æµç¨‹å®šä¹‰å¯¹è±¡è·å–æµç¨‹å®šä¹‰èµ„æºï¼Œè·å– bpmn å’Œ pngã€‚\n&#x2F;**\n * éœ€æ±‚ï¼š\n * 1.ä»Activitiçš„act_ge_bytearrayè¡¨ä¸­è¯»å–ä¸¤ä¸ªèµ„æºæ–‡ä»¶\n * 2.å°†ä¸¤ä¸ªèµ„æºæ–‡ä»¶ä¿å­˜åˆ°è·¯å¾„ï¼š   &#x2F;Users&#x2F;mac&#x2F;Desktop&#x2F;diagram&#x2F;\n *\n * æŠ€æœ¯æ–¹æ¡ˆï¼š\n *     1.ç¬¬ä¸€ç§æ–¹å¼ä½¿ç”¨actvitiçš„apiæ¥å®ç°\n *     2.ç¬¬äºŒç§æ–¹å¼ï¼šå…¶å®å°±æ˜¯åŸç†å±‚é¢ï¼Œå¯ä»¥ä½¿ç”¨jdbcçš„å¯¹blobç±»å‹ï¼Œclobç±»å‹æ•°æ®çš„è¯»å–ï¼Œå¹¶ä¿å­˜\n *        IOæµè½¬æ¢ï¼Œæœ€å¥½commons-io.jaråŒ…å¯ä»¥è½»æ¾è§£å†³IOæ“ä½œ\n *\n * çœŸå®åº”ç”¨åœºæ™¯ï¼šç”¨æˆ·æƒ³æŸ¥çœ‹è¿™ä¸ªè¯·å‡æµç¨‹å…·ä½“æœ‰å“ªäº›æ­¥éª¤è¦èµ°ï¼Ÿ\n *\n *\n *&#x2F;\npublic class QueryBpmnFile &#123;\n\n    public static void main(String[] args) throws IOException &#123;\n        &#x2F;&#x2F;1.å¾—åˆ°ProcessEngineå¯¹è±¡\n        ProcessEngine processEngine &#x3D; ProcessEngines.getDefaultProcessEngine();\n\n        &#x2F;&#x2F;2.å¾—åˆ°RepositoryServiceå¯¹è±¡\n        RepositoryService repositoryService &#x3D; processEngine.getRepositoryService();\n\n        &#x2F;&#x2F;3.å¾—åˆ°æŸ¥è¯¢å™¨:ProcessDefinitionQueryå¯¹è±¡\n        ProcessDefinitionQuery processDefinitionQuery &#x3D; repositoryService.createProcessDefinitionQuery();\n\n        &#x2F;&#x2F;4.è®¾ç½®æŸ¥è¯¢æ¡ä»¶\n        processDefinitionQuery.processDefinitionKey(&quot;holiday&quot;);&#x2F;&#x2F;å‚æ•°æ˜¯æµç¨‹å®šä¹‰çš„key\n\n        &#x2F;&#x2F;5.æ‰§è¡ŒæŸ¥è¯¢æ“ä½œ,æŸ¥è¯¢å‡ºæƒ³è¦çš„æµç¨‹å®šä¹‰\n        ProcessDefinition processDefinition &#x3D; processDefinitionQuery.singleResult();\n\n        &#x2F;&#x2F;6.é€šè¿‡æµç¨‹å®šä¹‰ä¿¡æ¯ï¼Œå¾—åˆ°éƒ¨ç½²ID\n        String deploymentId &#x3D; processDefinition.getDeploymentId();\n\n        &#x2F;&#x2F;7.é€šè¿‡repositoryServiceçš„æ–¹æ³•,å®ç°è¯»å–å›¾ç‰‡ä¿¡æ¯åŠbpmnæ–‡ä»¶ä¿¡æ¯(è¾“å…¥æµ)\n        &#x2F;&#x2F;getResourceAsStream()æ–¹æ³•çš„å‚æ•°è¯´æ˜ï¼šç¬¬ä¸€ä¸ªå‚æ•°éƒ¨ç½²id,ç¬¬äºŒä¸ªå‚æ•°ä»£è¡¨èµ„æºåç§°\n        &#x2F;&#x2F;processDefinition.getDiagramResourceName() ä»£è¡¨è·å–pngå›¾ç‰‡èµ„æºçš„åç§°\n        &#x2F;&#x2F;processDefinition.getResourceName()ä»£è¡¨è·å–bpmnæ–‡ä»¶çš„åç§°\n        InputStream pngIs &#x3D; repositoryService\n                .getResourceAsStream(deploymentId,processDefinition.getDiagramResourceName());\n        InputStream bpmnIs &#x3D; repositoryService\n                .getResourceAsStream(deploymentId,processDefinition.getResourceName());\n\n        &#x2F;&#x2F;8.æ„å»ºå‡ºOutputStreamæµ\n        OutputStream pngOs &#x3D;\n                new FileOutputStream(new File(&quot;&#x2F;Users&#x2F;mac&#x2F;Desktop&#x2F;&quot;+processDefinition.getDiagramResourceName()));\n\n        OutputStream bpmnOs &#x3D;\n                new FileOutputStream(new File(&quot;&#x2F;Users&#x2F;mac&#x2F;Desktop&#x2F;&quot;+processDefinition.getResourceName()));\n\n        &#x2F;&#x2F;9.è¾“å…¥æµï¼Œè¾“å‡ºæµçš„è½¬æ¢  commons-io-xx.jarä¸­çš„æ–¹æ³•\n        IOUtils.copy(pngIs,pngOs);\n        IOUtils.copy(bpmnIs,bpmnOs);\n        &#x2F;&#x2F;10.å…³é—­æµ\n        pngOs.close();\n        bpmnOs.close();\n        pngIs.close();\n        bpmnIs.close();\n\n    &#125;\n&#125;\n\næµç¨‹å†å²ä¿¡æ¯çš„æŸ¥çœ‹å³ä½¿æµç¨‹å®šä¹‰å·²ç»åˆ é™¤äº†ï¼Œæµç¨‹æ‰§è¡Œçš„å†å²ä¿¡æ¯é€šè¿‡å‰é¢çš„åˆ†æï¼Œä¾ç„¶ä¿å­˜åœ¨ activiti çš„ act_hi_*ç›¸å…³çš„è¡¨ä¸­ã€‚æ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯å¯ä»¥æŸ¥è¯¢æµç¨‹æ‰§è¡Œçš„å†å²ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡ HistoryService æ¥æŸ¥çœ‹ç›¸å…³çš„å†å²è®°å½•ã€‚\npublic static void main(String[] args) throws IOException &#123;\n        &#x2F;&#x2F;1.å¾—åˆ°ProcessEngineå¯¹è±¡\n        ProcessEngine processEngine &#x3D; ProcessEngines.getDefaultProcessEngine();\n\n        &#x2F;&#x2F;2.å¾—åˆ°HistoryService\n        HistoryService historyService &#x3D; processEngine.getHistoryService();\n\n        &#x2F;&#x2F;3.å¾—åˆ°HistoricActivitiInstanceQueryå¯¹è±¡\n        HistoricActivityInstanceQuery historicActivityInstanceQuery &#x3D; historyService.createHistoricActivityInstanceQuery();\n\n        historicActivityInstanceQuery.processInstanceId(&quot;10001&quot;);&#x2F;&#x2F;è®¾ç½®æµç¨‹å®ä¾‹çš„id\n\n        &#x2F;&#x2F;4.æ‰§è¡ŒæŸ¥è¯¢\n        List&lt;HistoricActivityInstance&gt; list &#x3D; historicActivityInstanceQuery\n                .orderByHistoricActivityInstanceStartTime().asc().list();&#x2F;&#x2F;æ’åºStartTime\n\n        &#x2F;&#x2F;5.éå†æŸ¥è¯¢ç»“æœ\n        for (HistoricActivityInstance instance :list)&#123;\n            System.out.println(instance.getActivityId());\n            System.out.println(instance.getActivityName());\n            System.out.println(instance.getProcessDefinitionId());\n            System.out.println(instance.getProcessInstanceId());\n            System.out.println(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;);\n        &#125;\n    &#125;\n\n\nArticle linkï¼š https://tqgoblin.site/post/activitiå­¦ä¹ ç¬”è®°(äºŒ)/  Authorï¼š Stephen  \n","slug":"activitiå­¦ä¹ ç¬”è®°(äºŒ)","date":"2019-11-25T14:48:00.000Z","categories_index":"Activiti","tags_index":"Activiti","author_index":"Stephen"},{"id":"41fd5f0c4276a28984db38b1e679ed38","title":"Activiti å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰","content":"ä¸€ã€ Activitiæµç¨‹å¼•æ“ç®€ä»‹\næ­¤é¡¹ç›®äº2010å¹´Tom Bayenï¼ˆjBPMåˆ›å§‹äººï¼‰ç¦»å¼€jBossååŠ å…¥Alfrescoå…¬å¸ä¹‹åçš„åˆä¸€åŠ›ä½œï¼›ç¬¬ä¸€ç‰ˆåœ¨2010å¹´5æœˆå‘å¸ƒï¼Œå½“æ—¶ä»…æ”¯æŒæœ€ç®€å•çš„æµç¨‹å¤„ç†ï¼Œåæ¥ç‰ˆæœ¬å‘å¸ƒé¢‘ç‡å›ºå®šä¸ºæ¯ä¸¤ä¸ªæœˆä¸€ç‰ˆã€‚ å€¼å¾—ä¸€æçš„æ˜¯å‚ä¸é¡¹ç›®å¼€å‘çš„é™¤äº†Tom Bayenå’Œåå‡ ä½æ ¸å¿ƒå¼€å‘äººå‘˜ä¹‹å¤–è¿˜æœ‰å…¶ä»–å…¬å¸çš„æˆå‘˜çš„å‚ä¸ï¼Œä¾‹å¦‚ï¼šSpringSourceã€MuleSoftã€Salvesã€Signavioã€FuseSourceã€NextLevelç­‰å…¬å¸ã€‚  \nActivitiæ˜¯ä¸€ä¸ªé’ˆå¯¹ä¼ä¸šç”¨æˆ·ã€å¼€å‘äººå‘˜ã€ç³»ç»Ÿç®¡ç†å‘˜è½»é‡çº§å·¥ä½œæµä¸šåŠ¡ç®¡ç†å¹³å°ã€‚å…¶æ ¸å¿ƒæ˜¯ä½¿ç”¨Javaå¼€å‘çš„å¿«é€Ÿã€ç¨³å®šBPMN 2.0æµç¨‹å¼•æ“ã€‚Activiti æ˜¯åœ¨ Apache V2 è®¸å¯ä¸‹å‘å¸ƒçš„ã€‚Activitiå¯ä»¥è¿è¡Œåœ¨ä»»ä½•ç±»å‹çš„Javaç¨‹åºä¸­ï¼Œä¾‹å¦‚æœåŠ¡å™¨ã€é›†ç¾¤ã€äº‘æœåŠ¡ã€‚å®ƒå¯ä»¥å®Œç¾åœ°ä¸Springé›†æˆã€‚è®¡åŸºäºç®€çº¦æ€æƒ³çš„è®¾è®¡ä½¿Activitiéå¸¸çš„è½»é‡çº§ã€‚ å®ƒæœ‰ç€æ´»è·ƒçš„ç¤¾åŒºï¼Œè€Œä¸”è¶Šæ¥è¶Šå¤šçš„ä¼ä¸šéƒ½é€‰æ‹©Activitiä½œä¸ºè‡ªå·±çš„æµç¨‹å¼•æ“æˆ–è€…åµŒå…¥åˆ°è‡ªå·±çš„ç³»ç»Ÿå¹³å°ä¸­ï¼ˆä¾‹å¦‚ESBï¼‰ã€‚\n\näºŒã€ Activiti æ•°æ®åº“æ”¯æŒActivitiçš„åå°æ˜¯æœ‰æ•°æ®åº“çš„æ”¯æŒï¼Œæ‰€æœ‰çš„è¡¨éƒ½ä»¥ACT_å¼€å¤´ã€‚ ç¬¬äºŒéƒ¨åˆ†æ˜¯è¡¨ç¤ºè¡¨çš„ç”¨é€”çš„ä¸¤ä¸ªå­—æ¯æ ‡è¯†ã€‚ ç”¨é€”ä¹Ÿå’ŒæœåŠ¡çš„APIå¯¹åº”ã€‚ \n\nACT_RE_*: â€˜REâ€™è¡¨ç¤ºrepositoryã€‚ è¿™ä¸ªå‰ç¼€çš„è¡¨åŒ…å«äº†æµç¨‹å®šä¹‰å’Œæµç¨‹é™æ€èµ„æº ï¼ˆå›¾ç‰‡ï¼Œè§„åˆ™ï¼Œç­‰ç­‰ï¼‰ã€‚Â \nACT_RU_*: â€˜RUâ€™è¡¨ç¤ºruntimeã€‚ è¿™äº›è¿è¡Œæ—¶çš„è¡¨ï¼ŒåŒ…å«æµç¨‹å®ä¾‹ï¼Œä»»åŠ¡ï¼Œå˜é‡ï¼Œå¼‚æ­¥ä»»åŠ¡ï¼Œç­‰è¿è¡Œä¸­çš„æ•°æ®ã€‚ Activitiåªåœ¨æµç¨‹å®ä¾‹æ‰§è¡Œè¿‡ç¨‹ä¸­ä¿å­˜è¿™äº›æ•°æ®ï¼Œ åœ¨æµç¨‹ç»“æŸæ—¶å°±ä¼šåˆ é™¤è¿™äº›è®°å½•ã€‚ è¿™æ ·è¿è¡Œæ—¶è¡¨å¯ä»¥ä¸€ç›´å¾ˆå°é€Ÿåº¦å¾ˆå¿«ã€‚Â \nACT_ID_*: â€˜IDâ€™è¡¨ç¤ºidentityã€‚ è¿™äº›è¡¨åŒ…å«èº«ä»½ä¿¡æ¯ï¼Œæ¯”å¦‚ç”¨æˆ·ï¼Œç»„ç­‰ç­‰ã€‚Â \nACT_HI_*: â€˜HIâ€™è¡¨ç¤ºhistoryã€‚ è¿™äº›è¡¨åŒ…å«å†å²æ•°æ®ï¼Œæ¯”å¦‚å†å²æµç¨‹å®ä¾‹ï¼Œ å˜é‡ï¼Œä»»åŠ¡ç­‰ç­‰ã€‚Â \nACT_GE_*: é€šç”¨æ•°æ®ï¼Œ ç”¨äºä¸åŒåœºæ™¯ä¸‹ï¼Œå¦‚å­˜æ”¾èµ„æºæ–‡ä»¶\n\nä¸‰ã€ Activiti å¦‚ä½•ä½¿ç”¨1. éƒ¨ç½²ActivitiActiviti æ˜¯ä¸€ä¸ªå·¥ä½œæµå¼•æ“ï¼ˆå…¶å®å°±æ˜¯ä¸€å †jaråŒ… APIï¼‰ï¼Œä¸šåŠ¡ç³»ç»Ÿä½¿ç”¨ activiti æ¥å¯¹ç³»ç»Ÿçš„ä¸šåŠ¡æµç¨‹è¿›è¡Œè‡ªåŠ¨åŒ–ç®¡ç†ï¼Œä¸ºäº†æ–¹ä¾¿ä¸šåŠ¡ç³»ç»Ÿè®¿é—®(æ“ä½œ)activiti çš„æ¥å£æˆ–åŠŸèƒ½ï¼Œé€šå¸¸å°† activiti ç¯å¢ƒä¸ä¸šåŠ¡ç³»ç»Ÿçš„ç¯å¢ƒé›†æˆåœ¨ä¸€èµ·ã€‚\n2. æµç¨‹å®šä¹‰ä½¿ç”¨ activiti æµç¨‹å»ºæ¨¡å·¥å…·(activity-designer)å®šä¹‰ä¸šåŠ¡æµç¨‹(.bpmn æ–‡ä»¶) ã€‚.bpmn æ–‡ä»¶å°±æ˜¯ä¸šåŠ¡æµç¨‹å®šä¹‰æ–‡ä»¶ï¼Œé€šè¿‡ xml å®šä¹‰ä¸šåŠ¡æµç¨‹ã€‚å¦‚æœä½¿ç”¨å…¶å®ƒå…¬å¸å¼€å‘çš„å·¥ä½œä½œå¼•æ“ä¸€èˆ¬éƒ½æä¾›äº†å¯è§†åŒ–çš„å»ºæ¨¡å·¥å…·(Process Designer)ç”¨äºç”Ÿæˆæµç¨‹å®šä¹‰æ–‡ä»¶ï¼Œå»ºæ¨¡å·¥å…·æ“ä½œç›´è§‚ï¼Œä¸€èˆ¬éƒ½æ”¯æŒå›¾å½¢åŒ–æ‹–æ‹½æ–¹å¼ã€å¤šçª—å£çš„ç”¨æˆ·ç•Œé¢ã€ä¸°å¯Œçš„è¿‡ç¨‹å›¾å½¢å…ƒç´ ã€è¿‡ç¨‹å…ƒç´ æ‹·è´ã€ç²˜è´´ã€åˆ é™¤ç­‰åŠŸèƒ½ã€‚\n\n\n3. æµç¨‹å®šä¹‰éƒ¨ç½²å‘ activiti éƒ¨ç½²ä¸šåŠ¡æµç¨‹å®šä¹‰ï¼ˆ.bpmn æ–‡ä»¶ï¼‰ã€‚ä½¿ç”¨ activiti æä¾›çš„ api å‘ activiti ä¸­éƒ¨ç½².bpmn æ–‡ä»¶ï¼ˆä¸€èˆ¬æƒ…å†µè¿˜éœ€è¦ä¸€å—å„¿éƒ¨ç½²ä¸šåŠ¡æµç¨‹çš„å›¾ç‰‡.pngï¼‰\n4. å¯åŠ¨ä¸€ä¸ªæµç¨‹å®ä¾‹(ProcessInstance)å¯åŠ¨ä¸€ä¸ªæµç¨‹å®ä¾‹è¡¨ç¤ºå¼€å§‹ä¸€æ¬¡ä¸šåŠ¡æµç¨‹çš„è¿è¡Œï¼Œæ¯”å¦‚å‘˜å·¥è¯·å‡æµç¨‹éƒ¨ç½²å®Œæˆï¼Œå¦‚æœå¼ ä¸‰è¦è¯·å‡å°±å¯ä»¥å¯åŠ¨ä¸€ä¸ªæµç¨‹å®ä¾‹ï¼Œå¦‚æœæå››è¦è¯·å‡ä¹Ÿå¯åŠ¨ä¸€ä¸ªæµç¨‹å®ä¾‹ï¼Œä¸¤ä¸ªæµç¨‹çš„æ‰§è¡Œäº’ç›¸ä¸å½±å“ï¼Œå°±å¥½æ¯”å®šä¹‰ä¸€ä¸ª java ç±»ï¼Œå®ä¾‹åŒ–ä¸¤ä¸ªå¯¹è±¡ä¸€æ ·ï¼Œéƒ¨ç½²çš„æµç¨‹å°±å¥½æ¯” java ç±»ï¼Œå¯åŠ¨ä¸€ä¸ªæµç¨‹å®ä¾‹å°±å¥½æ¯” new ä¸€ä¸ª java å¯¹è±¡ã€‚\n5. ç”¨æˆ·æŸ¥è¯¢ä»£åŠä»»åŠ¡(Task)å› ä¸ºç°åœ¨ç³»ç»Ÿçš„ä¸šåŠ¡æµç¨‹å·²ç»äº¤ç»™ activiti ç®¡ç†ï¼Œé€šè¿‡ activiti å°±å¯ä»¥æŸ¥è¯¢å½“å‰æµç¨‹æ‰§è¡Œåˆ°å“ªäº†ï¼Œå½“å‰ç”¨æˆ·éœ€è¦åŠç†ä»€ä¹ˆä»»åŠ¡äº†ï¼Œè¿™äº› activitiå¸®æˆ‘ä»¬ç®¡ç†äº†ï¼Œè€Œä¸åƒä¸Šè¾¹éœ€è¦æˆ‘ä»¬åœ¨ sqlè¯­å¥ä¸­çš„whereæ¡ä»¶ä¸­æŒ‡å®šå½“å‰æŸ¥è¯¢çš„çŠ¶æ€å€¼æ˜¯å¤šå°‘ã€‚\n6. ç”¨æˆ·åŠç†ä»»åŠ¡ç”¨æˆ·æŸ¥è¯¢å¾…åŠä»»åŠ¡åï¼Œå°±å¯ä»¥åŠç†æŸä¸ªä»»åŠ¡ï¼Œå¦‚æœè¿™ä¸ªä»»åŠ¡åŠç†å®Œæˆè¿˜éœ€è¦å…¶å®ƒç”¨æˆ·åŠç†ï¼Œæ¯”å¦‚é‡‡è´­å•åˆ›å»ºåç”±éƒ¨é—¨ç»ç†å®¡æ ¸ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿæ˜¯ç”± activiti å¸®æˆ‘ä»¬å®Œæˆäº†ï¼Œä¸éœ€è¦æˆ‘ä»¬åœ¨ä»£ç ä¸­ç¡¬ç¼–ç æŒ‡å®šä¸‹ä¸€ä¸ªä»»åŠ¡åŠç†äººäº†ã€‚\n7. æµç¨‹ç»“æŸå½“ä»»åŠ¡åŠç†å®Œæˆæ²¡æœ‰ä¸‹ä¸€ä¸ªä»»åŠ¡&#x2F;ç»“ç‚¹äº†ï¼Œè¿™ä¸ªæµç¨‹å®ä¾‹å°±å®Œæˆäº†ã€‚\nå››ã€ Activiti æœåŠ¡æ¶æ„å›¾\n\nåœ¨æ–°ç‰ˆæœ¬ä¸­ï¼Œ IdentityServiceï¼ŒFormService ä¸¤ä¸ª Serivce éƒ½å·²ç»åˆ é™¤äº†ã€‚\n1. activiti.cfg.xmlactiviti çš„å¼•æ“é…ç½®æ–‡ä»¶ï¼ŒåŒ…æ‹¬ï¼šProcessEngineConfiguration çš„å®šä¹‰ã€æ•°æ®æºå®šä¹‰ã€äº‹åŠ¡ç®¡ç†å™¨ç­‰ï¼Œæ­¤æ–‡ä»¶å…¶å®å°±æ˜¯ä¸€ä¸ª spring é…ç½®æ–‡ä»¶ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªåŸºæœ¬çš„é…ç½®åªé…ç½®äº† ProcessEngineConfigurationå’Œæ•°æ®æºï¼š\n&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;\n       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;\n       xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;\n       xmlns:tx&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&quot;\n       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd\n\t\t\t\t\t\thttp:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;contex http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd\n\t\t\t\t\t\thttp:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&#x2F;spring-tx.xsd&quot;&gt;\n\n    &lt;!--æ•°æ®æºé…ç½®dbcp--&gt;\n    &lt;bean id&#x3D;&quot;dataSource&quot; class&#x3D;&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;\n        &lt;property name&#x3D;&quot;driverClassName&quot; value&#x3D;&quot;com.mysql.jdbc.Driver&quot; &#x2F;&gt;\n        &lt;property name&#x3D;&quot;url&quot; value&#x3D;&quot;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;activiti&quot; &#x2F;&gt;\n        &lt;property name&#x3D;&quot;username&quot; value&#x3D;&quot;root&quot; &#x2F;&gt;\n        &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;root&quot; &#x2F;&gt;\n    &lt;&#x2F;bean&gt;\n    &lt;!--activitiå•ç‹¬è¿è¡Œçš„ProcessEngineé…ç½®å¯¹è±¡(processEngineConfiguration),ä½¿ç”¨å•ç‹¬å¯åŠ¨æ–¹å¼\n        é»˜è®¤æƒ…å†µä¸‹ï¼šbeançš„id&#x3D;processEngineConfiguration\n    --&gt;\n    &lt;bean id&#x3D;&quot;processEngineConfiguration&quot; class&#x3D;&quot;org.activiti.engine.impl.cfg.StandaloneProcessEngineConfiguration&quot;&gt;\n    &lt;!--ä»£è¡¨æ•°æ®æº--&gt;\n    &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;dataSource&quot;&gt;&lt;&#x2F;property&gt;\n    &lt;!--ä»£è¡¨æ˜¯å¦ç”Ÿæˆè¡¨ç»“æ„--&gt;\n    &lt;property name&#x3D;&quot;databaseSchemaUpdate&quot; value&#x3D;&quot;true&quot;&#x2F;&gt;\n    &lt;&#x2F;bean&gt;\n&lt;&#x2F;beans&gt;\n\n2. ProcessEngineConfigurationæµç¨‹å¼•æ“çš„é…ç½®ç±»ï¼Œé€šè¿‡ ProcessEngineConfiguration å¯ä»¥åˆ›å»ºå·¥ä½œæµå¼•æ“ ProceccEngineï¼Œå¸¸ç”¨çš„ä¸¤ç§æ–¹æ³•å¦‚ä¸‹ï¼š\nStandaloneProcessEngineConfigurationé€šè¿‡org.activiti.engine.impl.cfg.StandaloneProcessEngineConfigurationActiviti å¯ä»¥å•ç‹¬è¿è¡Œï¼Œä½¿ç”¨å®ƒåˆ›å»ºçš„ ProcessEngineï¼ŒActiviti ä¼šè‡ªå·±å¤„ç†äº‹åŠ¡ã€‚\né…ç½®æ–‡ä»¶æ–¹å¼ï¼šé€šå¸¸åœ¨ activiti.cfg.xml é…ç½®æ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ª id ä¸º processEngineConfiguration çš„ beanï¼Œè¿™é‡Œä¼šä½¿ç”¨ spring çš„ä¾èµ–æ³¨å…¥æ¥æ„å»ºå¼•æ“ã€‚\n&lt;bean id&#x3D;&quot;processEngineConfiguration&quot;\nclass&#x3D;&quot;org.activiti.engine.impl.cfg.StandaloneProcessEngineConfig\nuration&quot;&gt;\n&lt;!-- æ•°æ®æº --&gt; &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;dataSource&quot; &#x2F;&gt;\n&lt;!-- æ•°æ®åº“ç­–ç•¥ --&gt; &lt;property name&#x3D;&quot;databaseSchemaUpdate&quot; value&#x3D;&quot;true&quot;&#x2F;&gt;\n&lt;&#x2F;bean&gt;\n\nSpringProcessEngineConfigurationé€šè¿‡ org.activiti.spring.SpringProcessEngineConfiguration ä¸ Spring æ•´åˆã€‚åˆ›å»º spring ä¸ activiti çš„æ•´åˆé…ç½®æ–‡ä»¶ï¼šactivity-spring.cfg.xmlï¼ˆåç§°ä¸å›ºå®šï¼‰\n&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;\nxmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;\nxmlns:mvc&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&quot;\nxmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;\nxmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;\nxmlns:tx&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&quot;\nxsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans \nhttp:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans-3.1.xsd \nhttp:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc \nhttp:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;mvc&#x2F;spring-mvc-3.1.xsd \nhttp:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context \nhttp:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context-3.1.xsd \nhttp:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop \nhttp:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop-3.1.xsd \nhttp:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx \nhttp:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;tx&#x2F;spring-tx-3.1.xsd &quot;&gt;\n&lt;!-- å·¥ä½œæµå¼•æ“é…ç½®bean --&gt; &lt;bean id&#x3D;&quot;processEngineConfiguration&quot;\nclass&#x3D;&quot;org.activiti.spring.SpringProcessEngineConfiguration&quot;&gt;\n&lt;!-- æ•°æ®æº --&gt; &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;dataSource&quot; &#x2F;&gt;\n&lt;!-- ä½¿ç”¨springäº‹åŠ¡ç®¡ç†å™¨ --&gt; &lt;property name&#x3D;&quot;transactionManager&quot; ref&#x3D;&quot;transactionManager&quot; &#x2F;&gt;\n&lt;!-- æ•°æ®åº“ç­–ç•¥ --&gt; &lt;property name&#x3D;&quot;databaseSchemaUpdate&quot; value&#x3D;&quot;drop-create&quot; &#x2F;&gt;\n&lt;!-- activitiçš„å®šæ—¶ä»»åŠ¡å…³é—­ --&gt; &lt;property name&#x3D;&quot;jobExecutorActivate&quot; value&#x3D;&quot;false&quot; &#x2F;&gt;\n&lt;&#x2F;bean&gt;\n&lt;!-- æµç¨‹å¼•æ“ --&gt; &lt;bean id&#x3D;&quot;processEngine&quot;\nclass&#x3D;&quot;org.activiti.spring.ProcessEngineFactoryBean&quot;&gt;\n\n&lt;property name&#x3D;&quot;processEngineConfiguration&quot;\nref&#x3D;&quot;processEngineConfiguration&quot; &#x2F;&gt;\n&lt;&#x2F;bean&gt;\n&lt;!-- èµ„æºæœåŠ¡service --&gt; &lt;bean id&#x3D;&quot;repositoryService&quot; factory-bean&#x3D;&quot;processEngine&quot;\nfactory-method&#x3D;&quot;getRepositoryService&quot; &#x2F;&gt;\n&lt;!-- æµç¨‹è¿è¡Œservice --&gt; &lt;bean id&#x3D;&quot;runtimeService&quot; factory-bean&#x3D;&quot;processEngine&quot;\nfactory-method&#x3D;&quot;getRuntimeService&quot; &#x2F;&gt;\n&lt;!-- ä»»åŠ¡ç®¡ç†service --&gt; &lt;bean id&#x3D;&quot;taskService&quot; factory-bean&#x3D;&quot;processEngine&quot;\nfactory-method&#x3D;&quot;getTaskService&quot; &#x2F;&gt;\n&lt;!-- å†å²ç®¡ç†service --&gt; &lt;bean id&#x3D;&quot;historyService&quot; factory-bean&#x3D;&quot;processEngine&quot;\nfactory-method&#x3D;&quot;getHistoryService&quot; &#x2F;&gt;\n&lt;!-- ç”¨æˆ·ç®¡ç†service --&gt; &lt;bean id&#x3D;&quot;identityService&quot; factory-bean&#x3D;&quot;processEngine&quot;\nfactory-method&#x3D;&quot;getIdentityService&quot; &#x2F;&gt;\n&lt;!-- å¼•æ“ç®¡ç†service --&gt; &lt;bean id&#x3D;&quot;managementService&quot; factory-bean&#x3D;&quot;processEngine&quot;\nfactory-method&#x3D;&quot;getManagementService&quot; &#x2F;&gt;\n&lt;!-- æ•°æ®æº --&gt; &lt;bean id&#x3D;&quot;dataSource&quot; class&#x3D;&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt; &lt;property name&#x3D;&quot;driverClassName&quot; value&#x3D;&quot;com.mysql.jdbc.Driver&quot; &#x2F;&gt;\n&lt;property name&#x3D;&quot;url&quot; value&#x3D;&quot;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;activiti&quot; &#x2F;&gt;\n&lt;property name&#x3D;&quot;username&quot; value&#x3D;&quot;root&quot; &#x2F;&gt;\n&lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;mysql&quot; &#x2F;&gt;\n&lt;property name&#x3D;&quot;maxActive&quot; value&#x3D;&quot;3&quot; &#x2F;&gt;\n&lt;property name&#x3D;&quot;maxIdle&quot; value&#x3D;&quot;1&quot; &#x2F;&gt;\n&lt;&#x2F;bean&gt;\n&lt;!-- äº‹åŠ¡ç®¡ç†å™¨ --&gt; &lt;bean id&#x3D;&quot;transactionManager&quot;\nclass&#x3D;&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;dataSource&quot; &#x2F;&gt;\n&lt;&#x2F;bean&gt;\n&lt;!-- é€šçŸ¥ --&gt; &lt;tx:advice id&#x3D;&quot;txAdvice&quot; transaction-manager&#x3D;&quot;transactionManager&quot;&gt; &lt;tx:attributes&gt;\n&lt;!-- ä¼ æ’­è¡Œä¸º --&gt; &lt;tx:method name&#x3D;&quot;save*&quot; propagation&#x3D;&quot;REQUIRED&quot; &#x2F;&gt;\n\n&lt;tx:method name&#x3D;&quot;insert*&quot; propagation&#x3D;&quot;REQUIRED&quot; &#x2F;&gt;\n&lt;tx:method name&#x3D;&quot;delete*&quot; propagation&#x3D;&quot;REQUIRED&quot; &#x2F;&gt;\n&lt;tx:method name&#x3D;&quot;update*&quot; propagation&#x3D;&quot;REQUIRED&quot; &#x2F;&gt;\n&lt;tx:method name&#x3D;&quot;find*&quot; propagation&#x3D;&quot;SUPPORTS&quot; read-only&#x3D;&quot;true&quot; &#x2F;&gt;\n&lt;tx:method name&#x3D;&quot;get*&quot; propagation&#x3D;&quot;SUPPORTS&quot; read-only&#x3D;&quot;true&quot; &#x2F;&gt;\n&lt;&#x2F;tx:attributes&gt;\n&lt;&#x2F;tx:advice&gt;\n&lt;!-- åˆ‡é¢ï¼Œæ ¹æ®å…·ä½“é¡¹ç›®ä¿®æ”¹åˆ‡ç‚¹é…ç½® --&gt; &lt;aop:config proxy-target-class&#x3D;&quot;true&quot;&gt; &lt;aop:advisor advice-ref&#x3D;&quot;txAdvice&quot;\npointcut&#x3D;&quot;execution(* com.itheima.ihrm.service.impl.*.*(..))&quot; &#x2F;&gt;\n&lt;&#x2F;aop:config&gt;\n&lt;&#x2F;beans&gt;\n\n\n3. ProcessEngineå·¥ä½œæµå¼•æ“ï¼Œç›¸å½“äºä¸€ä¸ªé—¨é¢æ¥å£ï¼Œé€šè¿‡ ProcessEngineConfiguration åˆ›å»º processEngineï¼Œé€šè¿‡ProcessEngine åˆ›å»ºå„ä¸ª service æ¥å£ã€‚\nä¸€èˆ¬åˆ›å»ºæ–¹å¼&#x2F;&#x2F;1.åˆ›å»ºProcessEngineConfigurationå¯¹è±¡  ç¬¬ä¸€ä¸ªå‚æ•°:é…ç½®æ–‡ä»¶åç§°  ç¬¬äºŒä¸ªå‚æ•°æ˜¯processEngineConfigurationçš„beançš„id\n\nProcessEngineConfiguration configuration &#x3D; ProcessEngineConfiguration\n        .createProcessEngineConfigurationFromResource(&quot;activiti.cfg.xml&quot;,&quot;processEngineConfiguration&quot;);\n                \n&#x2F;&#x2F;2.åˆ›å»ºProcesEngineå¯¹è±¡\n                \nProcessEngine processEngine &#x3D; configuration.buildProcessEngine();\n\n&#x2F;&#x2F;3.è¾“å‡ºprocessEngineå¯¹è±¡\n\nSystem.out.println(processEngine)\nç®€å•åˆ›å»ºæ–¹å¼å°† activiti.cfg.xml æ–‡ä»¶ååŠè·¯å¾„å›ºå®šï¼Œä¸” activiti.cfg.xml æ–‡ä»¶ä¸­æœ‰ processEngineConfiguration çš„é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç åˆ›å»º processEngine\n&#x2F;&#x2F;æ¡ä»¶ï¼š1.activitié…ç½®æ–‡ä»¶åç§°ï¼šactiviti.cfg.xml   2.beançš„id&#x3D;&quot;processEngineConfiguration&quot;\n       ProcessEngine processEngine &#x3D; ProcessEngines.getDefaultProcessEngine();\n4. ServiceService åˆ›å»ºæ–¹å¼ é€šè¿‡ ProcessEngine åˆ›å»º Serviceï¼ŒService æ˜¯å·¥ä½œæµå¼•æ“æä¾›ç”¨äºè¿›è¡Œå·¥ä½œæµéƒ¨ç½²ã€æ‰§è¡Œã€ç®¡ç†çš„æœåŠ¡æ¥å£ã€‚æ–¹å¼å¦‚ä¸‹ï¼š\nRuntimeService runtimeService &#x3D; processEngine.getRuntimeService();\nRepositoryService repositoryService &#x3D; processEngine.getRepositoryService();\nTaskService taskService &#x3D; processEngine.getTaskService();\n......\nService æ€»è§ˆ\n\n\næœåŠ¡\nä½œç”¨\n\n\n\nRepositoryService\nactiviti çš„èµ„æºç®¡ç†ç±»\n\n\nRuntimeService\nactiviti çš„æµç¨‹è¿è¡Œç®¡ç†ç±»\n\n\nTaskService\nactiviti çš„ä»»åŠ¡ç®¡ç†ç±»\n\n\nHistoryService\nactiviti çš„å†å²ç®¡ç†ç±»\n\n\nManagerService\nactiviti çš„å¼•æ“ç®¡ç†ç±»\n\n\nRepositoryService\næ˜¯ activiti çš„èµ„æºç®¡ç†ç±»ï¼Œæä¾›äº†ç®¡ç†å’Œæ§åˆ¶æµç¨‹å‘å¸ƒåŒ…å’Œæµç¨‹å®šä¹‰çš„æ“ä½œã€‚ä½¿ç”¨å·¥ä½œæµå»ºæ¨¡å·¥å…·è®¾è®¡çš„ä¸šåŠ¡æµç¨‹å›¾éœ€è¦ä½¿ç”¨æ­¤ service å°†æµç¨‹å®šä¹‰æ–‡ä»¶çš„å†…å®¹éƒ¨ç½²åˆ°æ•°æ®åº“ã€‚ é™¤äº†éƒ¨ç½²æµç¨‹å®šä¹‰ä»¥å¤–è¿˜å¯ä»¥ï¼š\næŸ¥è¯¢å¼•æ“ä¸­çš„å‘å¸ƒåŒ…å’Œæµç¨‹å®šä¹‰ã€‚\næš‚åœæˆ–æ¿€æ´»å‘å¸ƒåŒ…ï¼Œå¯¹åº”å…¨éƒ¨å’Œç‰¹å®šæµç¨‹å®šä¹‰ã€‚ æš‚åœæ„å‘³ç€å®ƒä»¬ä¸èƒ½å†æ‰§è¡Œä»»ä½•æ“ä½œäº†ï¼Œæ¿€æ´»æ˜¯å¯¹åº”çš„åå‘æ“ä½œã€‚\nè·å¾—å¤šç§èµ„æºï¼Œåƒæ˜¯åŒ…å«åœ¨å‘å¸ƒåŒ…é‡Œçš„æ–‡ä»¶ï¼Œ æˆ–å¼•æ“è‡ªåŠ¨ç”Ÿæˆçš„æµç¨‹å›¾ã€‚\nè·å¾—æµç¨‹å®šä¹‰çš„ pojo ç‰ˆæœ¬ï¼Œ å¯ä»¥ç”¨æ¥é€šè¿‡ java è§£ææµç¨‹ï¼Œè€Œä¸å¿…é€šè¿‡ xmlã€‚\n\nRuntimeServiceå®ƒæ˜¯ activiti çš„æµç¨‹è¿è¡Œç®¡ç†ç±»ã€‚å¯ä»¥ä»è¿™ä¸ªæœåŠ¡ç±»ä¸­è·å–å¾ˆå¤šå…³äºæµç¨‹æ‰§è¡Œç›¸å…³çš„ä¿¡æ¯\nTaskServiceæ˜¯ activiti çš„ä»»åŠ¡ç®¡ç†ç±»ã€‚å¯ä»¥ä»è¿™ä¸ªç±»ä¸­è·å–ä»»åŠ¡çš„ä¿¡æ¯ã€‚\nHistoryServiceæ˜¯ activiti çš„å†å²ç®¡ç†ç±»ï¼Œå¯ä»¥æŸ¥è¯¢å†å²ä¿¡æ¯ï¼Œæ‰§è¡Œæµç¨‹æ—¶ï¼Œå¼•æ“ä¼šä¿å­˜å¾ˆå¤šæ•°æ®ï¼ˆæ ¹æ®é…ç½®ï¼‰ï¼Œæ¯”å¦‚æµç¨‹å®ä¾‹å¯åŠ¨æ—¶é—´ï¼Œä»»åŠ¡çš„å‚ä¸è€…ï¼Œ å®Œæˆä»»åŠ¡çš„æ—¶é—´ï¼Œæ¯ä¸ªæµç¨‹å®ä¾‹çš„æ‰§è¡Œè·¯å¾„ï¼Œç­‰ç­‰ã€‚ è¿™ä¸ªæœåŠ¡ä¸»è¦é€šè¿‡æŸ¥è¯¢åŠŸèƒ½æ¥è·å¾—è¿™äº›æ•°æ®ã€‚\nManagementServiceæ˜¯ activiti çš„å¼•æ“ç®¡ç†ç±»ï¼Œæä¾›äº†å¯¹ Activiti æµç¨‹å¼•æ“çš„ç®¡ç†å’Œç»´æŠ¤åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½ä¸åœ¨å·¥ä½œæµé©±åŠ¨çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ï¼Œä¸»è¦ç”¨äº Activiti ç³»ç»Ÿçš„æ—¥å¸¸ç»´æŠ¤ã€‚\nArticle linkï¼š https://tqgoblin.site/post/activitiå­¦ä¹ ç¬”è®°(ä¸€)/  Authorï¼š Stephen  \n","slug":"activitiå­¦ä¹ ç¬”è®°(ä¸€)","date":"2019-11-22T15:58:00.000Z","categories_index":"Activiti","tags_index":"Activiti","author_index":"Stephen"},{"id":"e8faf659d92c2b0deb12ac2619d15d18","title":"THUCTC æ–‡æœ¬åˆ†ç±»ä¸­jarå†²çª","content":"æˆ‘å°†å®Œæ•´çš„THUCTCçš„Demoé¡¹ç›®ä½œä¸ºmoudleå¼•å…¥åˆ°è‡ªå·±çš„å·¥ç¨‹ä¸­ï¼ŒDemoåœ¨å…¶è‡ªå·±çš„moudleä¸­å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä½†æˆ‘å°†Demoçš„ä»£ç æ•´åˆåˆ°è‡ªå·±çš„å·¥ç¨‹ä¸­æ—¶ï¼Œå‡ºç°äº†å¦‚ä¸‹é”™è¯¯\n\n\nå‘ç°è‡ªå·±çš„å·¥ç¨‹ä¸­å¼•å…¥äº†é«˜ç‰ˆæœ¬çš„snowballåŒ…ï¼Œä½†æ˜¯é—æ†¾çš„æ˜¯æˆ‘å¹¶ä¸èƒ½å°†å®ƒé™ä½ç‰ˆæœ¬ã€‚é«˜ç‰ˆæœ¬ä¸­çš„Amogç±»çš„æ„é€ æ–¹æ³•å‘ç”Ÿäº†æ”¹å˜ï¼Œé€ æˆäº†è¿™ä¸ªé”™è¯¯ã€‚\n\n\nè§£å†³æ–¹æ¡ˆ: \n  ä¿®æ”¹THUCTCå·¥ç¨‹ä¸­snowballåŒ…è·¯å¾„ï¼Œé‡æ–°æ‰“æˆjaråŒ…ï¼Œå†å¼•å…¥è‡ªå·±å·¥ç¨‹å³å¯\n\n\n\n\nArticle linkï¼š https://tqgoblin.site/post/thuctcåˆ†ç±»/  Authorï¼š Stephen  \n","slug":"thuctcåˆ†ç±»","date":"2019-11-02T07:08:30.000Z","categories_index":"è¸©å‘ä¹‹è·¯","tags_index":"å¤§æ•°æ®","author_index":"Stephen"},{"id":"e384082c21cec712db7f9620d92150dc","title":"ç§‘å­¦ä¸Šç½‘","content":"ä¸€ã€åˆ©ç”¨Chromeçš„è°·æ­ŒåŠ©æ‰‹å®ç°ç§‘å­¦ä¸Šç½‘\nè¿›å…¥Chromeçš„æ‰©å±•ç¨‹åºç•Œé¢\n\n  \n\n\næ‰“å¼€å¼€å‘è€…æ¨¡å¼\n\n    \n\n\nç‚¹å‡» åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº\n\n      \n\n\nåŠ è½½è°·æ­ŒåŠ©æ‰‹\n\n    \n\n\n\nç­‰å¾…è°·æ­ŒåŠ©æ‰‹åŠ è½½å®Œæˆå°±èƒ½è®¿é—®äº†\n\n    \n  \n\n\n  \n  \n  \n\n\n\n\n\n\n\n\n\nè½¯ä»¶åŒ…:  ç‚¹å‡»ä¸‹è½½  (Mac  Win é€šç”¨)\näºŒã€Lanternä»£ç†\nè°·æ­ŒåŠ©æ‰‹è™½ç„¶èƒ½è®©æˆ‘ä»¬åœ¨è°·æ­Œå•†åœºä¸‹è½½æ’ä»¶ï¼Œä½†å¦‚æœæ˜¯è®¿é—®Youtubeç­‰ç½‘ç«™å°±ä¸èƒ½æ»¡è¶³éœ€æ±‚äº†\n\n\nä½¿ç”¨ Lanternä»£ç† æ¯æœˆæœ‰500MB å…è´¹æµé‡  èƒ½æ»¡è¶³è½»é‡ç”¨æˆ·éœ€æ±‚ \n\n\n  \n\n\n\n\n\n\n\n\n\n\n\n\nå®˜ç½‘åœ°å€ https://getlantern.org/zh_CN/index.html\nä¸‰ã€ShadowsocksX\nè¯¥è½¯ä»¶èƒ½å®ç°å…¨å±€ä»£ç†ï¼Œå¯é€‰æœåŠ¡å™¨å¤š ï¼Œä½†æ˜¯æ”¶è´¹ ğŸ™‚\n\n  \n\n  \n\n\n\n\n\n\n\n\n\n\n\nè½¯ä»¶åŒ…:  ç‚¹å‡»ä¸‹è½½  (mac ç‰ˆ)\nArticle linkï¼š https://tqgoblin.site/post/ç§‘å­¦ä¸Šç½‘/  Authorï¼š Stephen  \n","slug":"ç§‘å­¦ä¸Šç½‘","date":"2019-08-08T05:48:00.000Z","categories_index":"ç§‘å­¦ä¸Šç½‘","tags_index":"ç§‘å­¦ä¸Šç½‘","author_index":"Stephen"},{"id":"bc148c47b074649417f33e22cc961a4a","title":"private","content":"\n  76a95db47c288b0644d34172affb81a3d71f7e0c07e70fbecabc5e9c53ed2236e2ed4fa095521d3cf15b0ce92e5737fe6886aafe39b200e8592d42be37022cf15d4abb62a2d0c2a6ea42e53ef22366b3b428f5627e7a0892ad4bb3f32e5fcc0a6c03e7492e1e3f2ab02f9067e5257f3f28eb1905d0246de263f83f788da66651b7fb4527319e5d8d1cc6c2e18798f2da99de0417809225e031d051cd739ad8325a3ccdc582b9db575ae8476bd062b5324a28092fc844571bc766eb203d9a83c17d4407fc55a9da64c00843b30d4db48bccea27cf83acfe2f5a62b00272fa1a2c556b844af34f215b12cd1967221b3c10a8ab52aa1ce4af28b2820d105536a3810e68bceee21c9f57f98153f534ff0ee91ca19f9928caa0118e017530b2359086af0d5614e7da4c116e51db8f2e8db6bd7c624b464833d648e85c19a906c39dd31d22c7be81943a1a76ebd2ccad52a162c3120fba8f25389a9c351af7bd402cf97d799582d5c6ea1dfa2a97a4fb4bdd9d7e056873c5e4998b016dfe9b6743237162fec60a2bf4082b86abf82dedb5ed87f07bc4cf9310350bd1c8f947c66ef019d6f25df0eaad7990bf7a773ff7abe5d2cf0831614ac6997dee8074d31f0e4bb3b9e978fb1d7d80df894fcbdec0103275c796cac180245f31dcbc19d3871b7f159550ffaa3df98f467b7be88a214662055701b145dc4873c50ec54c89baed7b9c43ec596f6370fcef0878cf70d25a1bb5f058364a277f1d44f980e01d62a88dc69b9e152059097c4799fcd2d42d8c3469e38d544764dc5ddbe59ad379cd64f1e2d5d904d1410acf012c3f7b0d8e9476614fed30cc82f6884b39b4169fc00a5fd164e2d0c352ed259fe8bb593b600409d41a035ed4542943045cf4404d0d8cf10784ea650f258e5e5425691822c20970c791141a7ff99d1194602c3234b78a067c051633a16473b99dce5d57b6cb332f50f480dbedc1fdbce67722e22315283e84baf443521a15e2bbedb275267aef94544dc8b85aca82d1b0793f97881ae1f9620021c15466a4664b1ca0dce7ee170dd31d65f162d2ff0ed545659405b40f0286993ecd7ef5ea14fefd192dc2ce697faddc106d17f5854e33f6896a78317c8569f95edb4735d681bc133c93a0265a862fe556435e87ae08d06eb61477b04c46666f3b55360b4a2eb4b737e766ca01a555e5bc313382c26d803f8333532119a1c0dbdff34bfbb8239d0188b9d3d154c9bd0eec50067a1c880d71f8bacba034c11f1a81ecb5c8ec68cfcf06dd03621580fde53587fe1d3304858ae2547a0dd52baf1ff91acb48df8f8c695e684f72d83528247b0020cab9e504ba4a0a83cdc10123ef2926ca8028d564279ff498de446f0bc6d5ced9524a9435f0852ca8075230b5a45125a08a9b28905dcf621a4b3bb21bb2735d526250f6cbe2cc657526be019c9799067164c5d63cefb82a90f1ad22d7681357182d252102c4fc49b7189590fa17fae2cb85e30a0fdee20b1d8fe6b0ad2846077f138afd29cdb1e26128899e85964e82c182482502c95cbbdd4b86a53a87c722afaf920b2ca8e890051e5999a9e5328589ecfdf54a9d51ba893afd80bd22b8397dc0a95505b6fd9739a7949a0958c2e422023d1cad75268556c5764df3e16f7262d3bc390700f04f92bb3183ff97a8c04253c56e9be80476bf87d3032602361c01efb2d9e2ee9904408537e7b463d56b5ca04834516222ac8b32b73acd112abe520a9cd11ae3c71c3e67c167237a7cbb9557ab3a40842973c1b0e9adf6d7a48a3469cad3cae141e0c652e8007cb832ac817b887d52bdb4f7b6c3aed6df5352dddcdeab772d52f1cfc8bfb624684da8d8f6eee219865477e8fe7e157ca301521093103db688eb2e4cdb6c1a964ebf38dd11f41a0178fb4614b02a4c13a124050dec3d078f9da8e1349009232be1e3577cdd1bf049aa5e86af26221ee5ee566b06f7f92ac64a1af15d93cee12f2f932232e0470b424bcf40ea06173b31badf117cb3636d0856d103ad624d22caaa3921725ca3f0443a1fd31604336de0d31faf10166eb1cc14517abadb671d7a726ea8c5741654e12b6df466a425280f758d92c13b02e176f6180578c3cc2c1b4fa446adb01ff0a705747cc7b81edb813c5339e6d31aab0ac57a4a96567ddbeb06097775b9ea6bc1bd7dd9e4b988decd1b72c6d7da65cb9901a83a53fa56239986478f35dc6f9ec7e1407f934ab5c45a236ca6b6d410a5dff430265329f23dd9a9814f68f66f3920a72f0e099596d98681aaceba5a2fa6208065182844f11329d2454c548b8cdf0d38b08eac7b770c8413821075274f8d1ddc61ca3c8d51c3d86911863869d51efd04bead13bae5be31dbcf48570328ced315f27b34cd43ca93f277b2f0811b81ed6c093ccc08205f5da0c580711dc881b07b0316fe2dffc7d44024a7c9bad0a8ea179421ab7c1adcb9b3f20eb8d11e0e376f5ccc3bd4d0cd385b40a4711247b23d1f6e45454fa204150956cb6ce77063cca2fb7fc6c93accb33313bff9305ed5131fce52318ee310837eca049b8427314ee9f570bde12006150ba49d2a2ba8b84d9feb738555697c4a7f6b4f6ad5887bd6f0a134a180c44e369601b8e4b29cfde71ed578595bbc0140191d4c15ddf59b96bb4c0d30e0c43a0894a4149371a9c284f77fa4fdd9b315edefcdd7a22243e3dfd480348116c3cc811631662721eaf3b404e92cb5e344177a3fd540413a8482c4aedfe656aaab875caefd51fcec9836601820dd8ff0cce97b6927e5e10bf83a01bc8b28674cad7ae5fe4963b1c279625adf92fd8ec3a4be00d1b7b182bd835eb43b4e86969f57d2dbd193231c0bb2226f254142440460c8e15e9a74dba7cae56e671b9eb385232361639c7fcdefd2a788a5893a6143c34eb96009a06a04b867f371311137c2f099334cf9333d47c307227fca5840abaad9bbaca2fe41aeaf30d3378b017d86725430b728515ed20dc64065949536704d88054d3d40c3b23f3f1db130370f11a88b0754514cd4b2440b462e27005dd323ab13c144698ef1fd6b1778b6fcb21011602a3236cdf9ab946e56a7c525e99bec89a4d69d6ebbe60b71a0e0c397a108630678f68e96257104df23c29d41b03361e7df7d0c370cc7f11027ecc195f3f381ccece3bef48b1f9ab05a0de6015fb8c367c2a035838016d2be391d7984a541d19993752d0716416b81213eac47a655e82d11ba863dece5ff76ac494aee0b52f87acdeb075405a0a5353a368c6fe7536107ac7fc88dde87625102b101ab1c78e75f7169a46d7faaf159d7169269920b3c8eb6d69aa4970876e42a32def6ca2d8587f0a36f274b73b125474693579e44b912b65997cd5dc298b48805cf742366e71e1448fb89617abfb972a483b89357237d19d661c839693aa9035e6c1808f9d89774eac5bee36aea237d60e1fe96bfb8d13a02df1db6149fb48d6e7eafb12010ade18d96dbe04710a3a181d7712ebdfe17c6b1d9f4219e3891383fd9461d035bb422e1f068f8a5aee80e46acbba47732e5ee1feadfe703738a30fd23c8195e03b61b019b54189d676eaedb51849df68f87feb05e38133e357097bd902943324690b27c02c88b3d3decb828bf67512be5e611813bc0acc12ddc77bb67e915ce7e6dc874a2bf81ac9937501783f1f3cdb002726f80193ac8d037fb5da44d664491f123cab8303871a208a95b5832fc9aed91d4b3c1cf1eeeabde1a1b6ba1c61dddd3868ac13adccc5f1c6f29752c5fa22ab7ae0c931493f3937836e3fd19a60dd579178ce881961ec3b8509bbe90d6a3b1ccd2acbebcca8b60310ed1959e36d22b9498e7dc21625256aa6e20d0af6588d7e2af304d6eadbb66b2ba4e9c2714749044e5d2\n  \n    \n      \n      \n        Hey, password is required here.\n      \n    \n  \n\n","slug":"private","date":"2019-05-27T05:48:25.000Z","categories_index":"private","tags_index":"private","author_index":"Stephen"},{"id":"fc9ed1ed6c42c869484f950e1dcd4824","title":"Jetbrains å…¨å®¶æ¡¶å…è´¹ç”¨","content":"Jetbrainsè½¯ä»¶æ¿€æ´»æ–¹æ³•ä¸‹è½½æ¿€æ´»åŒ…å¯åŠ¨IDEï¼Œå¦‚æœä¸Šæ¥å°±éœ€è¦æ³¨å†Œï¼Œé€‰æ‹©ï¼šè¯•ç”¨ï¼ˆEvaluate for freeï¼‰è¿›å…¥IDEç‚¹å‡»ä½ è¦æ³¨å†Œçš„IDEèœå•ï¼šâ€Configureâ€ æˆ– â€œHelpâ€ -&gt; â€œEdit Custom VM Options â€¦â€      \n\nåœ¨æ‰“å¼€çš„vmoptionsç¼–è¾‘çª—å£æœ«è¡Œæ·»åŠ ï¼šâ€-javaagent:&#x2F;absolute&#x2F;path&#x2F;to&#x2F;jetbrains-agent.jarâ€ (å¡«å†™ä½ å­˜æ”¾ jetbrains-agent.jar æ–‡ä»¶çš„ç»å¯¹è·¯å¾„)     \n  \né‡å¯IDEã€‚ç‚¹å‡»IDEèœå• â€œHelpâ€ -&gt; â€œRegisterâ€¦â€ æˆ– â€œConfigureâ€ -&gt; â€œManage Licenseâ€¦â€      \n  \nå¡«å†™æ¿€æ´»ç        \n  \næ¿€æ´»æˆåŠŸ     \n        \n  \n\næ¿€æ´»åŒ…ä¸‹è½½\n\n\n\n\n\n\n\n\nè½¯ä»¶åŒ…:  ç‚¹å‡»ä¸‹è½½  (Mac  Win é€šç”¨)\nArticle linkï¼š https://tqgoblin.site/post/Jetbrains/  Authorï¼š Stephen  \n","slug":"Jetbrains","date":"2019-03-02T02:48:00.000Z","categories_index":"è½¯ä»¶","tags_index":"è½¯ä»¶","author_index":"Stephen"},{"id":"f5234097a5a9cdb48e6197f98eea9fe5","title":"Spring boot å·¥ç¨‹è®¿é—®ä¸åˆ°webappæ–‡ä»¶ä¸‹èµ„æº","content":"  å½“æˆ‘ä»¬ç”¨IntelliJ IDEA å¯åŠ¨ springBootæ–°é¡¹ç›®è®¿é—®webappä¸‹çš„é™æ€é¡µé¢æ—¶å‡ºç°404ï¼Œä¸”æ²¡æœ‰ä»»ä½•é”™è¯¯çš„æƒ…å†µä¸‹\n\n   \n    \n   \n\nè§£å†³æ–¹æ¡ˆ\n\n   \n    \n   \n   \n  \n    \n   \n\n\nArticle linkï¼š https://tqgoblin.site/post/spring-boot-bug-webapp/  Authorï¼š Stephen  \n","slug":"spring-boot-bug-webapp","date":"2018-09-02T02:48:00.000Z","categories_index":"è¸©å‘ä¹‹è·¯","tags_index":"JSP","author_index":"Stephen"},{"id":"296290365ed946b345a31171d65dd645","title":"åŸºäºfreemaker é€†å‘å·¥ç¨‹","content":"\n    \n\n\n  public class MysqlUtil &#123;\n    static &#123;\n        try &#123;\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n        &#125; catch (ClassNotFoundException e) &#123;\n            e.printStackTrace();\n        &#125;\n    &#125;\n\n    &#x2F;&#x2F;è·å–è¿æ¥\n    public static Connection getConnection(Configuration configuration) throws SQLException &#123;\n        String url &#x3D; &quot;jdbc:mysql:&#x2F;&#x2F;&quot;+configuration.getAddress()+&quot;:&quot;+configuration.getPort();\n        Connection connection &#x3D; null;\n        connection &#x3D; DriverManager.getConnection(url, configuration.getUserName(), configuration.getPassword());\n        connection.setAutoCommit(true);\n        return connection;\n    &#125;\n\n    &#x2F;&#x2F;é‡Šæ”¾èµ„æº\n    public static void release(Connection connection, Statement statement, ResultSet resultSet) throws SQLException &#123;\n        if (connection!&#x3D;null)&#123;\n            connection.close();\n        &#125;\n        if (statement!&#x3D;null)&#123;\n            statement.close();\n        &#125;\n        if (resultSet!&#x3D;null)&#123;\n            resultSet.close();\n        &#125;\n    &#125;\n\n    &#x2F;&#x2F;æ‰§è¡Œsql   åœ¨æ§åˆ¶å°ä¸­æ˜¾ç¤ºæ‰€æœ‰çš„æ•°æ®åº“åç§°\n    public static void executeSqlForShowDatabases(Connection connection,Configuration configuration) throws SQLException &#123;\n        Statement statement &#x3D; connection.createStatement();\n        ResultSet resultSet &#x3D; statement.executeQuery(&quot;show databases;&quot;);\n        Set&lt;String&gt; databases &#x3D; new HashSet&lt;String&gt;();\n        while (resultSet.next())&#123;\n            String databaseName &#x3D; resultSet.getString(1);\n            databases.add(databaseName);\n            System.out.println(databaseName);\n        &#125;\n        configuration.setDatabases(databases);\n        MysqlUtil.release(null,statement,resultSet);\n    &#125;\n\n    &#x2F;&#x2F;æ‰§è¡Œsql    æ˜¾ç¤ºæ‰€æœ‰çš„è¡¨åç§°\n    public static void executeSqlForShowTables(Connection connection,Configuration configuration) throws SQLException &#123;\n        Statement statement &#x3D; connection.createStatement();\n        statement.execute(&quot;use &quot;+configuration.getDatabase());\n        ResultSet resultSet &#x3D; statement.executeQuery(&quot;show tables&quot;);\n        Set&lt;String&gt; tables &#x3D; new HashSet&lt;String&gt;();\n        while (resultSet.next())&#123;\n            String tableName &#x3D; resultSet.getString(1);\n            tables.add(tableName);\n            System.out.println(tableName);\n        &#125;\n        MysqlUtil.release(null,statement,resultSet);\n    &#125;\n\n    &#x2F;&#x2F;æ‰§è¡Œsql   æŸ¥çœ‹è¡¨ç»“æ„  èƒ½æ‹¿åˆ°è¡¨çš„å­—æ®µ ä»¥åŠå­—æ®µçš„æ•°æ®ç±»å‹\n    public static void executeSqlForDescTable(Connection connection,Configuration configuration) throws SQLException &#123;\n        Statement statement &#x3D; connection.createStatement();\n        ResultSet resultSet &#x3D; statement.executeQuery(&quot;desc &quot;+configuration.getTable());\n        Set&lt;ColumnModel&gt; columnModels &#x3D; new HashSet&lt;ColumnModel&gt;();&#x2F;&#x2F;å½“å‰è¿™ä¸ªè¡¨ä¸­æ‰€æœ‰çš„å­—æ®µåŠç±»å‹\n        while (resultSet.next())&#123;\n            String columnName &#x3D; resultSet.getString(1);\n            String columnType &#x3D; resultSet.getString(2);\n            ColumnModel columnModel &#x3D; new ColumnModel();\n            columnModel.setColumnName(columnName);\n            if (columnType.contains(&quot;varchar&quot;)||columnType.contains(&quot;char&quot;))&#123;\n                columnModel.setType(&quot;String&quot;);\n            &#125;else if (columnType.contains(&quot;int&quot;))&#123;\n                columnModel.setType(&quot;Integer&quot;);\n            &#125;else if (columnType.contains(&quot;datetime&quot;))&#123;\n                columnModel.setType(&quot;Date&quot;);\n            &#125;else if (columnType.contains(&quot;bigint&quot;))&#123;\n                columnModel.setType(&quot;Long&quot;);\n            &#125;\n            columnModels.add(columnModel);\n&#x2F;&#x2F;            System.out.println(columnName+&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;&quot;+columnType);\n        &#125;\n        TableModel tableModel &#x3D; new TableModel();\n        tableModel.setTableName(configuration.getTable());\n        tableModel.setColumnModels(columnModels);\n        configuration.setTableModel(tableModel);\n        MysqlUtil.release(null,statement,resultSet);\n\n    &#125;\n&#125;\n\n\n\n\n\n\n\n\n\næºç :  ç‚¹å‡»ä¸‹è½½ \nArticle linkï¼š https://tqgoblin.site/post/codegenerator/  Authorï¼š Stephen  \n","slug":"codegenerator","date":"2018-08-12T02:48:00.000Z","categories_index":"è½¯ä»¶","tags_index":"è½¯ä»¶","author_index":"Stephen"},{"id":"d30ace39e1775eb881fa386d10463fa5","title":"æ­£æ•´æ•°åˆ†è§£è´¨å› æ•°","content":"å°†ä¸€ä¸ªæ­£æ•´æ•°åˆ†è§£è´¨å› æ•°ã€‚ä¾‹å¦‚ï¼šè¾“å…¥90ï¼Œæ‰“å°å‡º90&#x3D;2*3*3*5    public class Solution &#123;\n        public static void main(String[] args) &#123;\n            Scanner sc &#x3D; new Scanner(System.in);\n            System.out.println(&quot;è¯·è¾“å…¥è¦åˆ†è§£çš„æ­£æ•´æ•°ï¼š&quot;);\n            int n &#x3D; sc.nextInt();\n            StringBuilder sb &#x3D; new StringBuilder();\n            sb.append(n + &quot;&#x3D;&quot;);\n            &#x2F;&#x2F;é€»è¾‘æ˜¯ï¼šä»2-nä¸­æ‰¾ä¸€ä¸ªæœ€å°çš„ä¸”èƒ½è¢«næ•´é™¤çš„æ•°k\n            &#x2F;&#x2F;å¦‚æœæ‰¾åˆ°äº† å°±ç”¨ n&#x2F;k çš„å•†ä½œä¸ºæ–°n  ç»§ç»­å¾ªç¯\n            &#x2F;&#x2F;å¦‚æœn &#x3D;&#x3D; k åˆ™è¯´æ˜æ˜¯è´¨æ•° æˆ–è€…å•†æ˜¯è´¨æ•° å°±å¾ªç¯ç»“æŸç›´æ¥è¾“å‡º\n            for (int i &#x3D; 2; i &lt; n + 1; i++) &#123;\n                while (n % i &#x3D;&#x3D; 0 &amp;&amp; n !&#x3D; i) &#123;\n                    n &#x3D; n &#x2F; i;\n                    sb.append(i + &quot;*&quot;);\n                &#125;\n    \n                if (n &#x3D;&#x3D; i) &#123;     &#x2F;&#x2F;å¦‚æœä¸Šé¢çš„éƒ½ä¸èƒ½æ•´é™¤è¯´æ˜æ˜¯ä¸ªè´¨æ•°\n                    sb.append(i);\n                    break;\n                &#125;\n            &#125;\n        System.out.println(sb.toString());\n    &#125;\n&#125;\n\n\nArticle linkï¼š https://tqgoblin.site/post/æ­£æ•´æ•°åˆ†è§£è´¨å› æ•°/  Authorï¼š Stephen  \n","slug":"æ­£æ•´æ•°åˆ†è§£è´¨å› æ•°","date":"2018-04-13T05:48:00.000Z","categories_index":"ç®—æ³•","tags_index":"ç®—æ³•","author_index":"Stephen"},{"id":"ef5a4863e88e0b505e528fa60d638cfe","title":"Hannuota","content":"Java å®ç° æ±‰è¯ºå¡”è§£æ³•æ±‰è¯ºå¡”ï¼šæ±‰è¯ºå¡”é—®é¢˜æ˜¯æºäºå°åº¦ä¸€ä¸ªå¤è€ä¼ è¯´çš„ç›Šæ™ºç©å…·ã€‚å¤§æ¢µå¤©åˆ›é€ ä¸–ç•Œçš„æ—¶å€™åšäº†ä¸‰æ ¹é‡‘åˆšçŸ³æŸ±å­ï¼Œåœ¨ä¸€æ ¹æŸ±å­ä¸Šä»ä¸‹å¾€ä¸ŠæŒ‰ç…§å¤§å°é¡ºåºæ‘ç€64ç‰‡é»„é‡‘åœ†ç›˜ã€‚å¤§æ¢µå¤©å‘½ä»¤å©†ç½—é—¨æŠŠåœ†ç›˜ä»ä¸‹é¢å¼€å§‹æŒ‰å¤§å°é¡ºåºé‡æ–°æ‘†æ”¾åœ¨å¦ä¸€æ ¹æŸ±å­ä¸Šã€‚å¹¶ä¸”è§„å®šï¼Œåœ¨å°åœ†ç›˜ä¸Šä¸èƒ½æ”¾å¤§åœ†ç›˜ï¼Œåœ¨ä¸‰æ ¹æŸ±å­ä¹‹é—´ä¸€æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªåœ†ç›˜ã€‚\n     \n\npublic class Solution &#123;\n    public static void main(String[] args) &#123;\n        int n &#x3D; 3;\n        char from &#x3D; &#39;A&#39;;\n        char in &#x3D; &#39;B&#39;;\n        char to &#x3D; &#39;c&#39;;\n        func(n, from, in, to);\n    &#125;\n\n    private static void func(int n, char from, char in, char to) &#123;\n        if (n &#x3D;&#x3D; 1) &#123;\n            System.out.println(&quot;å°†ç¬¬&quot; + n + &quot;å—ä»&quot; + from + &quot;ç§»åˆ°&quot; + to);\n            &#x2F;&#x2F; æ— è®ºæœ‰å¤šå°‘ç›˜å­ éƒ½çœ‹æˆ2ä¸ªç›˜å­ ï¼Œ æœ€åä¸€ä¸ªç›˜å­å’Œ ä¸Šé¢çš„æ‰€æœ‰ç›˜å­\n        &#125; else &#123;\n            &#x2F;&#x2F; å°†é™¤æœ€åä¸€ä¸ªä¹‹å¤–çš„æ‰€æœ‰çš„ç›˜å­ç§»åˆ°  tempä½ç½®å»\n            func(n - 1, from, to, in);\n            &#x2F;&#x2F; å°†æœ€åä¸€ä¸ªç›˜å­ç§»åˆ°ç›®æ ‡ä½ç½®\n            System.out.println(&quot;å°†ç¬¬&quot; + n + &quot;å—ä»&quot; + from + &quot;ç§»åˆ°&quot; + to);\n            &#x2F;&#x2F; å†å°†n-1ä¸ªç›˜å­ä» tempç§»åˆ°ç›®æ ‡ä½ç½®\n            func(n - 1, in, from, to);\n\n        &#125;\n    &#125;\n&#125;\n\n\n\nArticle linkï¼š https://tqgoblin.site/post/Hannuota/  Authorï¼š Stephen  \n","slug":"Hannuota","date":"2018-04-10T02:09:00.000Z","categories_index":"ç®—æ³•","tags_index":"ç®—æ³•","author_index":"Stephen"}]