{"title":"Activiti 学习笔记（二）","uid":"77d3e41277be521fb04715814e170fee","slug":"activiti学习笔记(二)","date":"2019-11-25T14:48:00.000Z","updated":"2020-01-04T09:18:04.000Z","comments":true,"path":"api/articles/activiti学习笔记(二).json","keywords":"Stephen web3","cover":"http://yanxuan.nosdn.127.net/1c8d68e9dec35793796ea26cf1f6a419.jpg","content":"<link rel=\"stylesheet\" href=\"/owl.css\"><link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script><h1 id=\"一、Activiti-入门体验\"><a href=\"#一、Activiti-入门体验\" class=\"headerlink\" title=\"一、Activiti 入门体验\"></a>一、Activiti 入门体验</h1><h2 id=\"流程定义\"><a href=\"#流程定义\" class=\"headerlink\" title=\"流程定义\"></a>流程定义</h2><h3 id=\"Palette（画板）\"><a href=\"#Palette（画板）\" class=\"headerlink\" title=\"Palette（画板）\"></a>Palette（画板）</h3><p>在 eclipse 或 idea 中安装 activiti-designer 插件即可使用，画板中包括以下结点：</p>\n<ul>\n<li>Connection—连接</li>\n<li>Event—事件</li>\n<li>Task—任务</li>\n<li>Gateway—网关</li>\n<li>Container—容器</li>\n<li>Boundary event—边界事件</li>\n<li>Intermediate event- -中间事件</li>\n<li>流程图设计完毕保存生成.bpmn 文件。</li>\n</ul>\n<h3 id=\"新建流程-（IDEA）\"><a href=\"#新建流程-（IDEA）\" class=\"headerlink\" title=\"新建流程 （IDEA）\"></a>新建流程 （IDEA）</h3><img src=\"https://i.loli.net/2020/01/03/K21JHz9UdgxXqoW.png\"/>\n\n<p>起完名字 holiday 后（默认扩展名为 bpmn），就可以看到进入了流程设计页面，如图所示：</p>\n<img src=\"https://i.loli.net/2020/01/03/MOZyBW7wTNpheEF.png\"/>\n\n<h3 id=\"绘制流程\"><a href=\"#绘制流程\" class=\"headerlink\" title=\"绘制流程\"></a>绘制流程</h3><p>左侧区域是绘图区，右侧区域是 palette 画板区域 ，鼠标先点击画板的元素即可在左侧绘图。<br><img src=\"https://i.loli.net/2020/01/03/RW2UZEPY3csqazx.png\"  /></p>\n<h3 id=\"指定流程定义Key\"><a href=\"#指定流程定义Key\" class=\"headerlink\" title=\"指定流程定义Key\"></a>指定流程定义Key</h3><p>流程定义 key 即流程定义的标识，在 idea 中通过 properties 视图查看流程的 key<br>建议：相同的业务流程，流程定义的 key 名字定义一样，比如，如果需要创建新的业务流程，请假流程则使用新的 key。</p>\n<img src=\"https://i.loli.net/2020/01/04/iRGJ624P5hwFqDr.png\"/>\n\n<h3 id=\"指定任务负责人\"><a href=\"#指定任务负责人\" class=\"headerlink\" title=\"指定任务负责人\"></a>指定任务负责人</h3><p>在 properties 视图指定每个任务结点的负责人，比如下边是填写请假单的负责人为 zhangsan</p>\n<img src=\"https://i.loli.net/2020/01/04/a5iQrmVdf1L2CqE.png\" />\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>生成png流程图 参考 <a href=\"https://blog.csdn.net/will_lam/article/details/78833806\">Idea创建bpmn文件没有png图片解决办法</a></p></blockquote>\n<h2 id=\"部署流程定义\"><a href=\"#部署流程定义\" class=\"headerlink\" title=\"部署流程定义\"></a>部署流程定义</h2><p>部署流程定义就是要将上边绘制的图形即流程定义（.bpmn）部署在工作流程引擎 activiti 中，方法如下：</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">&#x2F;**\n * 流程定义的部署\n * activiti表有哪些？\n *  act_re_deployment  部署信息\n    act_re_procdef     流程定义的一些信息\n    act_ge_bytearray   流程定义的bpmn文件及png文件\n *&#x2F;\npublic static void main(String[] args) &#123;\n    &#x2F;&#x2F;1.创建ProcessEngine对象\n    ProcessEngine processEngine &#x3D; ProcessEngines.getDefaultProcessEngine();\n\n    &#x2F;&#x2F;2.得到RepositoryService实例\n    RepositoryService repositoryService &#x3D; processEngine.getRepositoryService();\n\n    &#x2F;&#x2F;3.进行部署\n    Deployment deployment &#x3D; repositoryService.createDeployment()\n            .addClasspathResource(&quot;diagram&#x2F;holiday.bpmn&quot;)  &#x2F;&#x2F;添加bpmn资源\n            .addClasspathResource(&quot;diagram&#x2F;holiday.png&quot;)\n            .name(&quot;请假申请单流程&quot;)\n            .deploy();\n\n    &#x2F;&#x2F;4.输出部署的一些信息\n    System.out.println(deployment.getName());\n    System.out.println(deployment.getId());\n&#125;</code></pre>\n\n\n\n<h2 id=\"启动一个流程实例\"><a href=\"#启动一个流程实例\" class=\"headerlink\" title=\"启动一个流程实例\"></a>启动一个流程实例</h2><p>流程定义部署在 activiti 后就可以通过工作流管理业务流程了，也就是说上边部署的请假申请流程可以使用了。<br>针对该流程，启动一个流程表示发起一个新的请假申请单，这就相当于 java 类与 java 对象的关系，类定义好后需要 new 创建一个对象使用，当然可以 new 多个对象。对于请假申请流程，张三发起一个请假申请单需要启动一个流程实例，请假申请单发起一个请假单也需要启动一个流程实例。<br>代码如下：</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">    &#x2F;**\n    * 启动流程实例:\n    *     前提是先已经完成流程定义的部署工作\n    *\n    *     背后影响的表：\n    *       act_hi_actinst     已完成的活动信息\n         act_hi_identitylink   参与者信息\n         act_hi_procinst   流程实例\n         act_hi_taskinst   任务实例\n         act_ru_execution   执行表\n         act_ru_identitylink   参与者信息\n         act_ru_task  任务\n    *&#x2F;\npublic class ActivitiStartInstance &#123;\n    public static void main(String[] args) &#123;\n        &#x2F;&#x2F;1.得到ProcessEngine对象\n        ProcessEngine processEngine &#x3D; ProcessEngines.getDefaultProcessEngine();\n\n        &#x2F;&#x2F;2.得到RunService对象\n        RuntimeService runtimeService &#x3D; processEngine.getRuntimeService();\n\n        &#x2F;&#x2F;3.创建流程实例  流程定义的key需要知道 holiday\n        ProcessInstance processInstance &#x3D; runtimeService.startProcessInstanceByKey(&quot;holiday&quot;);\n\n\n        &#x2F;&#x2F;4.输出实例的相关信息\n        System.out.println(&quot;流程部署ID&quot;+processInstance.getDeploymentId());&#x2F;&#x2F;null\n        System.out.println(&quot;流程定义ID&quot;+processInstance.getProcessDefinitionId());&#x2F;&#x2F;holiday:1:4\n        System.out.println(&quot;流程实例ID&quot;+processInstance.getId());&#x2F;&#x2F;2501\n        System.out.println(&quot;活动ID&quot;+processInstance.getActivityId());&#x2F;&#x2F;null\n\n    &#125;</code></pre>\n\n\n<h3 id=\"任务查询\"><a href=\"#任务查询\" class=\"headerlink\" title=\"任务查询\"></a>任务查询</h3><p>流程启动后，各各任务的负责人就可以查询自己当前需要处理的任务，查询出来的任务都是该用户的待办任务。</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\"> &#x2F;&#x2F;zhangsan完成自己任务列表的查询\npublic static void main(String[] args) &#123;\n    &#x2F;&#x2F;1.得到ProcessEngine对象\n    ProcessEngine processEngine &#x3D; ProcessEngines.getDefaultProcessEngine();\n\n    &#x2F;&#x2F;2.得到TaskService对象\n    TaskService taskService &#x3D; processEngine.getTaskService();\n\n    &#x2F;&#x2F;3.根据流程定义的key,负责人assignee来实现当前用户的任务列表查询\n    Task task &#x3D; taskService.createTaskQuery()\n            .processDefinitionKey(&quot;holiday&quot;)\n            .taskAssignee(&quot;zhangsan&quot;)\n            .singleResult();\n\n    &#x2F;&#x2F;4.任务列表的展示\n    System.out.println(&quot;流程实例ID:&quot;+task.getProcessInstanceId()); &#x2F;&#x2F;2501\n    System.out.println(&quot;任务ID:&quot;+task.getId());  &#x2F;&#x2F;2505\n    System.out.println(&quot;任务负责人:&quot;+task.getAssignee()); &#x2F;&#x2F;zhangsan\n    System.out.println(&quot;任务名称:&quot;+task.getName()); &#x2F;&#x2F;填写请假申请单\n\n&#125;\n</code></pre>\n\n<h3 id=\"任务处理\"><a href=\"#任务处理\" class=\"headerlink\" title=\"任务处理\"></a>任务处理</h3><p>任务负责人查询待办任务，选择任务进行处理，完成任务。</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">&#x2F;**\n * zhangsan完成自己的任务\n * 处理当前用户的任务\n * 背后操作的表：\n *   act_hi_actinst\n     act_hi_identitylink\n     act_hi_taskinst\n     act_ru_identitylink\n     act_ru_task\n *&#x2F;\npublic static void main(String[] args) &#123;\n    &#x2F;&#x2F;1.得到ProcessEngine对象\n    ProcessEngine processEngine &#x3D; ProcessEngines.getDefaultProcessEngine();\n\n    &#x2F;&#x2F;2.得到TaskService对象\n    TaskService taskService &#x3D; processEngine.getTaskService();\n\n    &#x2F;&#x2F;3.处理任务,结合当前用户任务列表的查询操作的话,任务ID:2505\n    taskService.complete(&quot;2505&quot;);\n    \n&#125;</code></pre>\n\n<h3 id=\"流程定义删除\"><a href=\"#流程定义删除\" class=\"headerlink\" title=\"流程定义删除\"></a>流程定义删除</h3><pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">    &#x2F;**\n     * 删除已经部署的流程定义\n     *\n     * 背后影响的表:\n     * act_ge_bytearray\n       act_re_deployment\n       act_re_procdef\n     *&#x2F;\npublic class DeleteProcessDefinition &#123;\n\n    &#x2F;**\n     * 注意事项：\n     *     1.当我们正在执行的这一套流程没有完全审批结束的时候，此时如果要删除流程定义信息就会失败\n     *     2.如果公司层面要强制删除,可以使用repositoryService.deleteDeployment(&quot;1&quot;,true);\n     *     &#x2F;&#x2F;参数true代表级联删除，此时就会先删除没有完成的流程结点，最后就可以删除流程定义信息  false的值代表不级联\n     *\n     * @param args\n     *&#x2F;\n    public static void main(String[] args) &#123;\n        &#x2F;&#x2F;1.得到ProcessEngine对象\n        ProcessEngine processEngine &#x3D; ProcessEngines.getDefaultProcessEngine();\n\n        &#x2F;&#x2F;2.创建RepositoryService对象\n        RepositoryService repositoryService &#x3D; processEngine.getRepositoryService();\n\n        &#x2F;&#x2F;3.执行删除流程定义  参数代表流程部署的id\n        repositoryService.deleteDeployment(&quot;1&quot;);\n    &#125;\n&#125;</code></pre>\n\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>说明：</p></blockquote>\n<ol>\n<li>使用 repositoryService 删除流程定义</li>\n<li>如果该流程定义下没有正在运行的流程，则可以用普通删除。</li>\n<li>如果该流程定义下存在已经运行的流程，使用普通删除报错，可用级联删除方法将流程及相关记录全部删除。项目开发中使用级联删除的情况比较多，删除操作一般只开放给超级管理员使用。</li>\n</ol>\n<h3 id=\"流程定义资源查询\"><a href=\"#流程定义资源查询\" class=\"headerlink\" title=\"流程定义资源查询\"></a>流程定义资源查询</h3><p>通过流程定义对象获取流程定义资源，获取 bpmn 和 png。</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">&#x2F;**\n * 需求：\n * 1.从Activiti的act_ge_bytearray表中读取两个资源文件\n * 2.将两个资源文件保存到路径：   &#x2F;Users&#x2F;mac&#x2F;Desktop&#x2F;diagram&#x2F;\n *\n * 技术方案：\n *     1.第一种方式使用actviti的api来实现\n *     2.第二种方式：其实就是原理层面，可以使用jdbc的对blob类型，clob类型数据的读取，并保存\n *        IO流转换，最好commons-io.jar包可以轻松解决IO操作\n *\n * 真实应用场景：用户想查看这个请假流程具体有哪些步骤要走？\n *\n *\n *&#x2F;\npublic class QueryBpmnFile &#123;\n\n    public static void main(String[] args) throws IOException &#123;\n        &#x2F;&#x2F;1.得到ProcessEngine对象\n        ProcessEngine processEngine &#x3D; ProcessEngines.getDefaultProcessEngine();\n\n        &#x2F;&#x2F;2.得到RepositoryService对象\n        RepositoryService repositoryService &#x3D; processEngine.getRepositoryService();\n\n        &#x2F;&#x2F;3.得到查询器:ProcessDefinitionQuery对象\n        ProcessDefinitionQuery processDefinitionQuery &#x3D; repositoryService.createProcessDefinitionQuery();\n\n        &#x2F;&#x2F;4.设置查询条件\n        processDefinitionQuery.processDefinitionKey(&quot;holiday&quot;);&#x2F;&#x2F;参数是流程定义的key\n\n        &#x2F;&#x2F;5.执行查询操作,查询出想要的流程定义\n        ProcessDefinition processDefinition &#x3D; processDefinitionQuery.singleResult();\n\n        &#x2F;&#x2F;6.通过流程定义信息，得到部署ID\n        String deploymentId &#x3D; processDefinition.getDeploymentId();\n\n        &#x2F;&#x2F;7.通过repositoryService的方法,实现读取图片信息及bpmn文件信息(输入流)\n        &#x2F;&#x2F;getResourceAsStream()方法的参数说明：第一个参数部署id,第二个参数代表资源名称\n        &#x2F;&#x2F;processDefinition.getDiagramResourceName() 代表获取png图片资源的名称\n        &#x2F;&#x2F;processDefinition.getResourceName()代表获取bpmn文件的名称\n        InputStream pngIs &#x3D; repositoryService\n                .getResourceAsStream(deploymentId,processDefinition.getDiagramResourceName());\n        InputStream bpmnIs &#x3D; repositoryService\n                .getResourceAsStream(deploymentId,processDefinition.getResourceName());\n\n        &#x2F;&#x2F;8.构建出OutputStream流\n        OutputStream pngOs &#x3D;\n                new FileOutputStream(new File(&quot;&#x2F;Users&#x2F;mac&#x2F;Desktop&#x2F;&quot;+processDefinition.getDiagramResourceName()));\n\n        OutputStream bpmnOs &#x3D;\n                new FileOutputStream(new File(&quot;&#x2F;Users&#x2F;mac&#x2F;Desktop&#x2F;&quot;+processDefinition.getResourceName()));\n\n        &#x2F;&#x2F;9.输入流，输出流的转换  commons-io-xx.jar中的方法\n        IOUtils.copy(pngIs,pngOs);\n        IOUtils.copy(bpmnIs,bpmnOs);\n        &#x2F;&#x2F;10.关闭流\n        pngOs.close();\n        bpmnOs.close();\n        pngIs.close();\n        bpmnIs.close();\n\n    &#125;\n&#125;</code></pre>\n\n<h3 id=\"流程历史信息的查看\"><a href=\"#流程历史信息的查看\" class=\"headerlink\" title=\"流程历史信息的查看\"></a>流程历史信息的查看</h3><p>即使流程定义已经删除了，流程执行的历史信息通过前面的分析，依然保存在 activiti 的 act_hi_*相关的表中。所以我们还是可以查询流程执行的历史信息，可以通过 HistoryService 来查看相关的历史记录。</p>\n<pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">public static void main(String[] args) throws IOException &#123;\n        &#x2F;&#x2F;1.得到ProcessEngine对象\n        ProcessEngine processEngine &#x3D; ProcessEngines.getDefaultProcessEngine();\n\n        &#x2F;&#x2F;2.得到HistoryService\n        HistoryService historyService &#x3D; processEngine.getHistoryService();\n\n        &#x2F;&#x2F;3.得到HistoricActivitiInstanceQuery对象\n        HistoricActivityInstanceQuery historicActivityInstanceQuery &#x3D; historyService.createHistoricActivityInstanceQuery();\n\n        historicActivityInstanceQuery.processInstanceId(&quot;10001&quot;);&#x2F;&#x2F;设置流程实例的id\n\n        &#x2F;&#x2F;4.执行查询\n        List&lt;HistoricActivityInstance&gt; list &#x3D; historicActivityInstanceQuery\n                .orderByHistoricActivityInstanceStartTime().asc().list();&#x2F;&#x2F;排序StartTime\n\n        &#x2F;&#x2F;5.遍历查询结果\n        for (HistoricActivityInstance instance :list)&#123;\n            System.out.println(instance.getActivityId());\n            System.out.println(instance.getActivityName());\n            System.out.println(instance.getProcessDefinitionId());\n            System.out.println(instance.getProcessInstanceId());\n            System.out.println(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;);\n        &#125;\n    &#125;</code></pre>\n\n\n<p>Article link： <a href=\"https://tqgoblin.site/post/activiti%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(%E4%BA%8C)/\">https://tqgoblin.site/post/activiti学习笔记(二)/</a> <div align=left> Author：<a href=\"https://www.tqgoblin.site\"> Stephen </a> </div></p>\n","text":"一、Activiti 入门体验流程定义Palette（画板）在 eclipse 或 idea 中安装 activiti-designer 插件即可使用，画板中包...","permalink":"/post/activiti学习笔记(二)","photos":[],"count_time":{"symbolsCount":"9.7k","symbolsTime":"9 mins."},"categories":[{"name":"Activiti","slug":"Activiti","count":2,"path":"api/categories/Activiti.json"}],"tags":[{"name":"Activiti","slug":"Activiti","count":2,"path":"api/tags/Activiti.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81Activiti-%E5%85%A5%E9%97%A8%E4%BD%93%E9%AA%8C\"><span class=\"toc-text\">一、Activiti 入门体验</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89\"><span class=\"toc-text\">流程定义</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Palette%EF%BC%88%E7%94%BB%E6%9D%BF%EF%BC%89\"><span class=\"toc-text\">Palette（画板）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%96%B0%E5%BB%BA%E6%B5%81%E7%A8%8B-%EF%BC%88IDEA%EF%BC%89\"><span class=\"toc-text\">新建流程 （IDEA）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BB%98%E5%88%B6%E6%B5%81%E7%A8%8B\"><span class=\"toc-text\">绘制流程</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8C%87%E5%AE%9A%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89Key\"><span class=\"toc-text\">指定流程定义Key</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8C%87%E5%AE%9A%E4%BB%BB%E5%8A%A1%E8%B4%9F%E8%B4%A3%E4%BA%BA\"><span class=\"toc-text\">指定任务负责人</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%83%A8%E7%BD%B2%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89\"><span class=\"toc-text\">部署流程定义</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E6%B5%81%E7%A8%8B%E5%AE%9E%E4%BE%8B\"><span class=\"toc-text\">启动一个流程实例</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BB%BB%E5%8A%A1%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">任务查询</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BB%BB%E5%8A%A1%E5%A4%84%E7%90%86\"><span class=\"toc-text\">任务处理</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89%E5%88%A0%E9%99%A4\"><span class=\"toc-text\">流程定义删除</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%B5%81%E7%A8%8B%E5%AE%9A%E4%B9%89%E8%B5%84%E6%BA%90%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">流程定义资源查询</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%B5%81%E7%A8%8B%E5%8E%86%E5%8F%B2%E4%BF%A1%E6%81%AF%E7%9A%84%E6%9F%A5%E7%9C%8B\"><span class=\"toc-text\">流程历史信息的查看</span></a></li></ol></li></ol></li></ol>","author":{"name":"Stephen","slug":"blog-author","avatar":"../img/logo.png","link":"/","description":"Love and Share","socials":{"github":"http://github.com/topstephen","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"GitLab CI/CD 实现自动构建部署项目","uid":"e42cdbfca7d3b003c339c6ab5827f117","slug":"gitlab-cicd","date":"2019-12-22T02:48:00.000Z","updated":"2020-01-04T09:18:24.000Z","comments":true,"path":"api/articles/gitlab-cicd.json","keywords":"Stephen web3","cover":"https://i.loli.net/2019/12/30/JFR8AZQ2EO9LUp4.jpg","text":"一、环境准备首先需要有一台 GitLab 服务器，然后需要有个项目；这里示例项目以 Spring Boot 项目为例，然后最好有一台专门用来 Build 的机器...","permalink":"/post/gitlab-cicd","photos":[],"count_time":{"symbolsCount":"4.8k","symbolsTime":"4 mins."},"categories":[{"name":"运维","slug":"运维","count":1,"path":"api/categories/运维.json"}],"tags":[{"name":"GitLab","slug":"GitLab","count":1,"path":"api/tags/GitLab.json"}],"author":{"name":"Stephen","slug":"blog-author","avatar":"../img/logo.png","link":"/","description":"Love and Share","socials":{"github":"http://github.com/topstephen","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Activiti 学习笔记（一）","uid":"41fd5f0c4276a28984db38b1e679ed38","slug":"activiti学习笔记(一)","date":"2019-11-22T15:58:00.000Z","updated":"2021-04-27T12:58:48.000Z","comments":true,"path":"api/articles/activiti学习笔记(一).json","keywords":"Stephen web3","cover":"https://user-gold-cdn.xitu.io/2020/1/3/16f6a66bd2b08c65?w=1920&h=1080&f=jpeg&s=979284","text":"一、 Activiti流程引擎简介 此项目于2010年Tom Bayen（jBPM创始人）离开jBoss后加入Alfresco公司之后的又一力作；第一版在201...","permalink":"/post/activiti学习笔记(一)","photos":[],"count_time":{"symbolsCount":"13k","symbolsTime":"12 mins."},"categories":[{"name":"Activiti","slug":"Activiti","count":2,"path":"api/categories/Activiti.json"}],"tags":[{"name":"Activiti","slug":"Activiti","count":2,"path":"api/tags/Activiti.json"}],"author":{"name":"Stephen","slug":"blog-author","avatar":"../img/logo.png","link":"/","description":"Love and Share","socials":{"github":"http://github.com/topstephen","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}