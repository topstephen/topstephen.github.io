{"title":"基于freemaker 逆向工程","uid":"296290365ed946b345a31171d65dd645","slug":"codegenerator","date":"2018-08-12T02:48:00.000Z","updated":"2019-12-30T04:54:42.000Z","comments":true,"path":"api/articles/codegenerator.json","keywords":"Stephen web3","cover":"https://stblogs.oss-cn-chengdu.aliyuncs.com/UTOOLS1577681541276.jpg","content":"<link rel=\"stylesheet\" href=\"/owl.css\"><link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"/assets/css/APlayer.min.css\"><script src=\"/assets/js/APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"/assets/js/Meting.min.js\"></script>\n    <div id=\"aplayer-EZgsfEDD\" class=\"aplayer aplayer-tag-marker meting-tag-marker\"\n         data-id=\"7040507499\" data-server=\"tencent\" data-type=\"playlist\" data-mode=\"circulation\" data-autoplay=\"false\" data-mutex=\"false\" data-listmaxheight=\"340px\" data-preload=\"true\" data-theme=\"#e6d0b2\"\n    ></div>\n\n\n  <pre class=\"line-numbers language-java\" data-language=\"java\"><code class=\"language-java\">public class MysqlUtil &#123;\n    static &#123;\n        try &#123;\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n        &#125; catch (ClassNotFoundException e) &#123;\n            e.printStackTrace();\n        &#125;\n    &#125;\n\n    &#x2F;&#x2F;获取连接\n    public static Connection getConnection(Configuration configuration) throws SQLException &#123;\n        String url &#x3D; &quot;jdbc:mysql:&#x2F;&#x2F;&quot;+configuration.getAddress()+&quot;:&quot;+configuration.getPort();\n        Connection connection &#x3D; null;\n        connection &#x3D; DriverManager.getConnection(url, configuration.getUserName(), configuration.getPassword());\n        connection.setAutoCommit(true);\n        return connection;\n    &#125;\n\n    &#x2F;&#x2F;释放资源\n    public static void release(Connection connection, Statement statement, ResultSet resultSet) throws SQLException &#123;\n        if (connection!&#x3D;null)&#123;\n            connection.close();\n        &#125;\n        if (statement!&#x3D;null)&#123;\n            statement.close();\n        &#125;\n        if (resultSet!&#x3D;null)&#123;\n            resultSet.close();\n        &#125;\n    &#125;\n\n    &#x2F;&#x2F;执行sql   在控制台中显示所有的数据库名称\n    public static void executeSqlForShowDatabases(Connection connection,Configuration configuration) throws SQLException &#123;\n        Statement statement &#x3D; connection.createStatement();\n        ResultSet resultSet &#x3D; statement.executeQuery(&quot;show databases;&quot;);\n        Set&lt;String&gt; databases &#x3D; new HashSet&lt;String&gt;();\n        while (resultSet.next())&#123;\n            String databaseName &#x3D; resultSet.getString(1);\n            databases.add(databaseName);\n            System.out.println(databaseName);\n        &#125;\n        configuration.setDatabases(databases);\n        MysqlUtil.release(null,statement,resultSet);\n    &#125;\n\n    &#x2F;&#x2F;执行sql    显示所有的表名称\n    public static void executeSqlForShowTables(Connection connection,Configuration configuration) throws SQLException &#123;\n        Statement statement &#x3D; connection.createStatement();\n        statement.execute(&quot;use &quot;+configuration.getDatabase());\n        ResultSet resultSet &#x3D; statement.executeQuery(&quot;show tables&quot;);\n        Set&lt;String&gt; tables &#x3D; new HashSet&lt;String&gt;();\n        while (resultSet.next())&#123;\n            String tableName &#x3D; resultSet.getString(1);\n            tables.add(tableName);\n            System.out.println(tableName);\n        &#125;\n        MysqlUtil.release(null,statement,resultSet);\n    &#125;\n\n    &#x2F;&#x2F;执行sql   查看表结构  能拿到表的字段 以及字段的数据类型\n    public static void executeSqlForDescTable(Connection connection,Configuration configuration) throws SQLException &#123;\n        Statement statement &#x3D; connection.createStatement();\n        ResultSet resultSet &#x3D; statement.executeQuery(&quot;desc &quot;+configuration.getTable());\n        Set&lt;ColumnModel&gt; columnModels &#x3D; new HashSet&lt;ColumnModel&gt;();&#x2F;&#x2F;当前这个表中所有的字段及类型\n        while (resultSet.next())&#123;\n            String columnName &#x3D; resultSet.getString(1);\n            String columnType &#x3D; resultSet.getString(2);\n            ColumnModel columnModel &#x3D; new ColumnModel();\n            columnModel.setColumnName(columnName);\n            if (columnType.contains(&quot;varchar&quot;)||columnType.contains(&quot;char&quot;))&#123;\n                columnModel.setType(&quot;String&quot;);\n            &#125;else if (columnType.contains(&quot;int&quot;))&#123;\n                columnModel.setType(&quot;Integer&quot;);\n            &#125;else if (columnType.contains(&quot;datetime&quot;))&#123;\n                columnModel.setType(&quot;Date&quot;);\n            &#125;else if (columnType.contains(&quot;bigint&quot;))&#123;\n                columnModel.setType(&quot;Long&quot;);\n            &#125;\n            columnModels.add(columnModel);\n&#x2F;&#x2F;            System.out.println(columnName+&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;&quot;+columnType);\n        &#125;\n        TableModel tableModel &#x3D; new TableModel();\n        tableModel.setTableName(configuration.getTable());\n        tableModel.setColumnModels(columnModels);\n        configuration.setTableModel(tableModel);\n        MysqlUtil.release(null,statement,resultSet);\n\n    &#125;\n&#125;</code></pre>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>源码:  <strong><a href=\"/download/codegenerator.zip\">点击下载</a></strong> </p></blockquote>\n<p>Article link： <a href=\"https://tqgoblin.site/post/codegenerator/\">https://tqgoblin.site/post/codegenerator/</a> <div align=left> Author：<a href=\"https://www.tqgoblin.site\"> Stephen </a> </div></p>\n","text":" public class MysqlUtil { static { try { Class.forName(\"com.mysql.jdbc.Driver\");...","permalink":"/post/codegenerator","photos":[],"count_time":{"symbolsCount":"4.4k","symbolsTime":"4 mins."},"categories":[{"name":"软件","slug":"软件","count":2,"path":"api/categories/软件.json"}],"tags":[{"name":"软件","slug":"软件","count":2,"path":"api/tags/软件.json"}],"toc":"","author":{"name":"Stephen","slug":"blog-author","avatar":"../img/logo.png","link":"/","description":"Love and Share","socials":{"github":"http://github.com/topstephen","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"Spring boot 工程访问不到webapp文件下资源","uid":"f5234097a5a9cdb48e6197f98eea9fe5","slug":"spring-boot-bug-webapp","date":"2018-09-02T02:48:00.000Z","updated":"2019-12-30T04:54:42.000Z","comments":true,"path":"api/articles/spring-boot-bug-webapp.json","keywords":"Stephen web3","cover":"https://stblogs.oss-cn-chengdu.aliyuncs.com/blog/bimg/68db4265-fa19-408a-81bc-d8ebed6537db.jpg","text":" 当我们用IntelliJ IDEA 启动 springBoot新项目访问webapp下的静态页面时出现404，且没有任何错误的情况下 解决方案 Article...","permalink":"/post/spring-boot-bug-webapp","photos":[],"count_time":{"symbolsCount":205,"symbolsTime":"1 mins."},"categories":[{"name":"踩坑之路","slug":"踩坑之路","count":2,"path":"api/categories/踩坑之路.json"}],"tags":[{"name":"JSP","slug":"JSP","count":1,"path":"api/tags/JSP.json"}],"author":{"name":"Stephen","slug":"blog-author","avatar":"../img/logo.png","link":"/","description":"Love and Share","socials":{"github":"http://github.com/topstephen","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"正整数分解质因数","uid":"d30ace39e1775eb881fa386d10463fa5","slug":"正整数分解质因数","date":"2018-04-13T05:48:00.000Z","updated":"2019-12-30T04:54:42.000Z","comments":true,"path":"api/articles/正整数分解质因数.json","keywords":"Stephen web3","cover":"https://stblogs.oss-cn-chengdu.aliyuncs.com/blog/bimg/248913-106.jpg","text":"将一个正整数分解质因数。例如：输入90，打印出90=2*3*3*5 public class Solution { public static void mai...","permalink":"/post/正整数分解质因数","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"算法","slug":"算法","count":2,"path":"api/categories/算法.json"}],"tags":[{"name":"算法","slug":"算法","count":2,"path":"api/tags/算法.json"}],"author":{"name":"Stephen","slug":"blog-author","avatar":"../img/logo.png","link":"/","description":"Love and Share","socials":{"github":"http://github.com/topstephen","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}